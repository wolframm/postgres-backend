// ignore: prefer_relative_imports
import 'package:dcli/dcli.dart';

/// GENERATED -- GENERATED
///
/// DO NOT MODIFIY
///
/// This script is generated via [Resource.pack()].
///
/// GENERATED - GENERATED

class Ab1f6f941a12eb1d464f755d08a3e86b9 extends PackedResource {
  /// PackedResource - converter/lib/src/responses.pb.dart
  const Ab1f6f941a12eb1d464f755d08a3e86b9();

  /// A hash of the resource (pre packed) calculated by
  /// [calculateHash].
  /// This hash can be used to check if the resource needs to
  /// be updated on the target system.
  /// Use :
  /// ```dart
  ///   calculateHash(pathToResource).hexEncode() == packResource.checksum
  /// ```
  /// to compare the checksum of the local file with
  /// this checksum
  @override
  String get checksum =>
      'ad54e5a6a50d6c3a05834381f6f70c3d';

  /// <package>/resources relative path to the original resource.
  @override
  String get originalPath => 'converter/lib/src/responses.pb.dart';

  @override
  String get content => '''
Ly8KLy8gIEdlbmVyYXRlZCBjb2RlLiBEbyBub3QgbW9kaWZ5LgovLyAgc291cmNlOiByZXNwb25zZXMu
cHJvdG8KLy8KLy8gQGRhcnQgPSAyLjEyCgovLyBpZ25vcmVfZm9yX2ZpbGU6IGFubm90YXRlX292ZXJy
aWRlcywgY2FtZWxfY2FzZV90eXBlcywgY29tbWVudF9yZWZlcmVuY2VzCi8vIGlnbm9yZV9mb3JfZmls
ZTogY29uc3RhbnRfaWRlbnRpZmllcl9uYW1lcywgbGlicmFyeV9wcmVmaXhlcwovLyBpZ25vcmVfZm9y
X2ZpbGU6IG5vbl9jb25zdGFudF9pZGVudGlmaWVyX25hbWVzLCBwcmVmZXJfZmluYWxfZmllbGRzCi8v
IGlnbm9yZV9mb3JfZmlsZTogdW5uZWNlc3NhcnlfaW1wb3J0LCB1bm5lY2Vzc2FyeV90aGlzLCB1bnVz
ZWRfaW1wb3J0CgppbXBvcnQgJ2RhcnQ6Y29yZScgYXMgJGNvcmU7CgppbXBvcnQgJ3BhY2thZ2U6Zml4
bnVtL2ZpeG51bS5kYXJ0JyBhcyAkZml4bnVtOwppbXBvcnQgJ3BhY2thZ2U6cHJvdG9idWYvcHJvdG9i
dWYuZGFydCcgYXMgJHBiOwoKaW1wb3J0ICdzdHJ1Y3QucGIuZGFydCcgYXMgJDE7CmltcG9ydCAndHlw
ZXMucGIuZGFydCcgYXMgJDA7CgpjbGFzcyBJbnQgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7
CiAgZmFjdG9yeSBJbnQoewogICAgJGNvcmUuaW50PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1
bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhID0g
ZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBJbnQuXygpIDogc3VwZXIoKTsKICBm
YWN0b3J5IEludC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lv
blJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVy
Z2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgSW50LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBb
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBj
cmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5m
byBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ0ludCcsIHBhY2th
Z2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNl
cycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmE8JGNvcmUuaW50PigxLCBfb21p
dEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLk9TMykKICAgIC4uaGFzUmVx
dWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBJbnQgY2xvbmUoKSA9PiBJbnQoKS4ubWVy
Z2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4g
YWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVk
TWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1v
dmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgSW50IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oSW50
KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFz
IEludCkpIGFzIEludDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3Jl
LnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEludCBjcmVhdGUoKSA9PiBJbnQuXygp
OwogIEludCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxp
c3Q8SW50PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8SW50PigpOwogIEAkY29yZS5wcmFn
bWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBJbnQgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0
SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxJbnQ+KGNyZWF0ZSk7
CiAgc3RhdGljIEludD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29y
ZS5pbnQgZ2V0IGRhdGEgPT4gJF9nZXRJWigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRh
KCRjb3JlLmludCB2KSB7ICRfc2V0U2lnbmVkSW50MzIoMCwgdik7IH0KICBAJHBiLlRhZ051bWJlcigx
KQogICRjb3JlLmJvb2wgaGFzRGF0YSgpID0+ICRfaGFzKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAg
dm9pZCBjbGVhckRhdGEoKSA9PiBjbGVhckZpZWxkKDEpOwp9CgpjbGFzcyBTZXRPZkludCBleHRlbmRz
ICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mSW50KHsKICAgICRjb3JlLkl0ZXJh
YmxlPEludD4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYg
KGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAg
cmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mSW50Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRP
ZkludC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9t
QnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZJbnQuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFsk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNy
ZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZv
IF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZJbnQnLCBw
YWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNw
b25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxJbnQ+KDEsIF9vbWl0
RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IElu
dC5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXBy
ZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBi
aW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHld
IGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0
T2ZJbnQgY2xvbmUoKSA9PiBTZXRPZkludCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVi
dWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykK
ICBTZXRPZkludCBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mSW50KSB1cGRhdGVzKSA9PiBzdXBl
ci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mSW50KSkgYXMgU2V0
T2ZJbnQ7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZkludCBjcmVhdGUoKSA9PiBTZXRPZkludC5f
KCk7CiAgU2V0T2ZJbnQgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAk
cGIuUGJMaXN0PFNldE9mSW50PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZJbnQ+
KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mSW50IGdl
dERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2Rl
ZmF1bHRGb3I8U2V0T2ZJbnQ+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mSW50PyBfZGVmYXVsdEluc3Rh
bmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8SW50PiBnZXQgZGF0YSA9PiAkX2dl
dExpc3QoMCk7Cn0KCmNsYXNzIEludEFycmF5IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2Ugewog
IGZhY3RvcnkgSW50QXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JGNvcmUuaW50Pj8gZGF0YSwKICB9
KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAg
ICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9
CiAgSW50QXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IEludEFycmF5LmZyb21CdWZmZXIoJGNv
cmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNp
b25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFj
dG9yeSBJbnRBcnJheS5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3Ry
eSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpz
b24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlcklu
Zm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdJbnRBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5Q
YWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0
eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnA8JGNvcmUuaW50PigxLCBfb21pdEZpZWxkTmFtZXMgPyAn
JyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLktTMykKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBm
YWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZp
Y2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5l
cmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4
dCBtYWpvciB2ZXJzaW9uJykKICBJbnRBcnJheSBjbG9uZSgpID0+IEludEFycmF5KCkuLm1lcmdlRnJv
bU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBz
aWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3Nh
Z2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBp
biBuZXh0IG1ham9yIHZlcnNpb24nKQogIEludEFycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oSW50
QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3Nh
Z2UgYXMgSW50QXJyYXkpKSBhcyBJbnRBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9
PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEludEFycmF5
IGNyZWF0ZSgpID0+IEludEFycmF5Ll8oKTsKICBJbnRBcnJheSBjcmVhdGVFbXB0eUluc3RhbmNlKCkg
PT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8SW50QXJyYXk+IGNyZWF0ZVJlcGVhdGVkKCkg
PT4gJHBiLlBiTGlzdDxJbnRBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5l
JykKICBzdGF0aWMgSW50QXJyYXkgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxJbnRBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMg
SW50QXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlz
dDwkY29yZS5pbnQ+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZJbnRBcnJh
eSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mSW50QXJyYXkoewog
ICAgJGNvcmUuSXRlcmFibGU8SW50QXJyYXk+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQg
PSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFs
bChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkludEFycmF5Ll8oKSA6
IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRPZkludEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29y
ZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5F
TVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZklu
dEFycmF5LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCBy
KTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mSW50QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFj
a2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJ
bnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxJbnRBcnJheT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycg
OiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogSW50QXJyYXkuY3JlYXRlKQog
ICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAn
VXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAg
J1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAn
CiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mSW50QXJyYXkg
Y2xvbmUoKSA9PiBTZXRPZkludEFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3Jl
LkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5
b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1
aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQog
IFNldE9mSW50QXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkludEFycmF5KSB1cGRhdGVz
KSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mSW50
QXJyYXkpKSBhcyBTZXRPZkludEFycmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9p
OwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZJbnRBcnJh
eSBjcmVhdGUoKSA9PiBTZXRPZkludEFycmF5Ll8oKTsKICBTZXRPZkludEFycmF5IGNyZWF0ZUVtcHR5
SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkludEFycmF5PiBj
cmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZJbnRBcnJheT4oKTsKICBAJGNvcmUucHJh
Z21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZJbnRBcnJheSBnZXREZWZhdWx0KCkg
PT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNl
dE9mSW50QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mSW50QXJyYXk/IF9kZWZhdWx0SW5zdGFu
Y2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxJbnRBcnJheT4gZ2V0IGRhdGEgPT4g
JF9nZXRMaXN0KDApOwp9CgpjbGFzcyBJbnQ4IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2Ugewog
IGZhY3RvcnkgSW50OCh7CiAgICAkZml4bnVtLkludDY0PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRy
ZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRh
ID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBJbnQ4Ll8oKSA6IHN1cGVyKCk7
CiAgZmFjdG9yeSBJbnQ4LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0
ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgp
Li5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBJbnQ4LmZyb21Kc29uKCRjb3JlLlN0cmlu
ZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFld
KSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWls
ZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ0ludDgn
LCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdy
ZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5hPCRmaXhudW0uSW50
NjQ+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuT1M2LCBk
ZWZhdWx0T3JNYWtlcjogJGZpeG51bS5JbnQ2NC5aRVJPKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9
IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25p
ZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdl
bmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBu
ZXh0IG1ham9yIHZlcnNpb24nKQogIEludDggY2xvbmUoKSA9PiBJbnQ4KCkuLm1lcmdlRnJvbU1lc3Nh
Z2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZp
Y2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5l
cmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0
IG1ham9yIHZlcnNpb24nKQogIEludDggY29weVdpdGgodm9pZCBGdW5jdGlvbihJbnQ4KSB1cGRhdGVz
KSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIEludDgpKSBh
cyBJbnQ4OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21h
KCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgSW50OCBjcmVhdGUoKSA9PiBJbnQ4Ll8oKTsKICBJ
bnQ4IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxJ
bnQ4PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8SW50OD4oKTsKICBAJGNvcmUucHJhZ21h
KCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgSW50OCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJ
bnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPEludDg+KGNyZWF0ZSk7
CiAgc3RhdGljIEludDg/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGZp
eG51bS5JbnQ2NCBnZXQgZGF0YSA9PiAkX2dldEk2NCgwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNl
dCBkYXRhKCRmaXhudW0uSW50NjQgdikgeyAkX3NldEludDY0KDAsIHYpOyB9CiAgQCRwYi5UYWdOdW1i
ZXIoMSkKICAkY29yZS5ib29sIGhhc0RhdGEoKSA9PiAkX2hhcygwKTsKICBAJHBiLlRhZ051bWJlcigx
KQogIHZvaWQgY2xlYXJEYXRhKCkgPT4gY2xlYXJGaWVsZCgxKTsKfQoKY2xhc3MgU2V0T2ZJbnQ4IGV4
dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZJbnQ4KHsKICAgICRjb3Jl
Lkl0ZXJhYmxlPEludDg+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsK
ICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAg
IH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkludDguXygpIDogc3VwZXIoKTsKICBmYWN0
b3J5IFNldE9mSW50OC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4u
bWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZJbnQ4LmZyb21Kc29uKCRjb3JlLlN0
cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1Q
VFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5C
dWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1Nl
dE9mSW50OCcsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/
ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPElu
dDg+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1
YkJ1aWxkZXI6IEludDguY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoK
ICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJo
ZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNp
b25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZl
cnNpb24nKQogIFNldE9mSW50OCBjbG9uZSgpID0+IFNldE9mSW50OCgpLi5tZXJnZUZyb21NZXNzYWdl
KHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNh
bnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJp
Y0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBt
YWpvciB2ZXJzaW9uJykKICBTZXRPZkludDggY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkludDgp
IHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMg
U2V0T2ZJbnQ4KSkgYXMgU2V0T2ZJbnQ4OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9p
OwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZJbnQ4IGNy
ZWF0ZSgpID0+IFNldE9mSW50OC5fKCk7CiAgU2V0T2ZJbnQ4IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9
PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkludDg+IGNyZWF0ZVJlcGVhdGVkKCkg
PT4gJHBiLlBiTGlzdDxTZXRPZkludDg+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIFNldE9mSW50OCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0g
JHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mSW50OD4oY3JlYXRlKTsKICBzdGF0
aWMgU2V0T2ZJbnQ4PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3Jl
Lkxpc3Q8SW50OD4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBJbnQ4QXJyYXkgZXh0
ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBJbnQ4QXJyYXkoewogICAgJGNvcmUu
SXRlcmFibGU8JGZpeG51bS5JbnQ2ND4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNy
ZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRh
dGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIEludDhBcnJheS5fKCkgOiBzdXBlcigp
OwogIGZhY3RvcnkgSW50OEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFsk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNy
ZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBJbnQ4QXJyYXkuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnSW50OEFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2Fn
ZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAg
IC4ucDwkZml4bnVtLkludDY0PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBi
RmllbGRUeXBlLktTNikKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3Jl
LkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5
b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVw
Q29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykK
ICBJbnQ4QXJyYXkgY2xvbmUoKSA9PiBJbnQ4QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsK
ICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJo
ZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNp
b25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVy
c2lvbicpCiAgSW50OEFycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oSW50OEFycmF5KSB1cGRhdGVz
KSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIEludDhBcnJh
eSkpIGFzIEludDhBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRj
b3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEludDhBcnJheSBjcmVhdGUoKSA9
PiBJbnQ4QXJyYXkuXygpOwogIEludDhBcnJheSBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRl
KCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8SW50OEFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5Q
Ykxpc3Q8SW50OEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0
YXRpYyBJbnQ4QXJyYXkgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5l
cmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxJbnQ4QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGljIEludDhB
cnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PCRm
aXhudW0uSW50NjQ+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZJbnQ4QXJy
YXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZkludDhBcnJheSh7
CiAgICAkY29yZS5JdGVyYWJsZTxJbnQ4QXJyYXk+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1
bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFk
ZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkludDhBcnJheS5f
KCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZJbnQ4QXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0
PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNl
dE9mSW50OEFycmF5LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5
IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNv
bihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5m
byhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mSW50OEFycmF5JywgcGFja2FnZTogY29uc3Qg
JHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0
ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8SW50OEFycmF5PigxLCBfb21pdEZpZWxkTmFt
ZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBJbnQ4QXJyYXku
Y3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVj
YXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmlu
YXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9m
SW50OEFycmF5IGNsb25lKCkgPT4gU2V0T2ZJbnQ4QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlz
KTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92
ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRl
bnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3Ig
dmVyc2lvbicpCiAgU2V0T2ZJbnQ4QXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkludDhB
cnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2Fn
ZSBhcyBTZXRPZkludDhBcnJheSkpIGFzIFNldE9mSW50OEFycmF5OwoKICAkcGIuQnVpbGRlckluZm8g
Z2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0
aWMgU2V0T2ZJbnQ4QXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZJbnQ4QXJyYXkuXygpOwogIFNldE9mSW50
OEFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlz
dDxTZXRPZkludDhBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mSW50OEFy
cmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZklu
dDhBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1l
c3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mSW50OEFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZklu
dDhBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0
PEludDhBcnJheT4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBVSW50OCBleHRlbmRz
ICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFVJbnQ4KHsKICAgICRmaXhudW0uSW50NjQ/
IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0g
bnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7
CiAgfQ==
CiAgVUludDguXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFVJbnQ4LmZyb21CdWZmZXIoJGNvcmUuTGlz
dDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBV
SW50OC5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7
CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRN
ZXNzYWdlTmFtZXMgPyAnJyA6ICdVSW50OCcsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShf
b21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBj
cmVhdGUpCiAgICAuLmE8JGZpeG51bS5JbnQ2ND4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0
YScsICRwYi5QYkZpZWxkVHlwZS5PVTYsIGRlZmF1bHRPck1ha2VyOiAkZml4bnVtLkludDY0LlpFUk8p
CiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAog
ICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcK
ICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQu
ICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgVUludDggY2xvbmUo
KSA9PiBVSW50OCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAog
ICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcK
ICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4g
JwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBVSW50OCBjb3B5V2l0
aCh2b2lkIEZ1bmN0aW9uKFVJbnQ4KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkg
PT4gdXBkYXRlcyhtZXNzYWdlIGFzIFVJbnQ4KSkgYXMgVUludDg7CgogICRwYi5CdWlsZGVySW5mbyBn
ZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRp
YyBVSW50OCBjcmVhdGUoKSA9PiBVSW50OC5fKCk7CiAgVUludDggY3JlYXRlRW1wdHlJbnN0YW5jZSgp
ID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFVJbnQ4PiBjcmVhdGVSZXBlYXRlZCgpID0+
ICRwYi5QYkxpc3Q8VUludDg+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAg
c3RhdGljIFVJbnQ4IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJh
dGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8VUludDg+KGNyZWF0ZSk7CiAgc3RhdGljIFVJbnQ4PyBfZGVm
YXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRmaXhudW0uSW50NjQgZ2V0IGRhdGEg
PT4gJF9nZXRJNjQoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICBzZXQgZGF0YSgkZml4bnVtLkludDY0
IHYpIHsgJF9zZXRJbnQ2NCgwLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuYm9vbCBo
YXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNsZWFyRGF0YSgp
ID0+IGNsZWFyRmllbGQoMSk7Cn0KCmNsYXNzIFNldE9mVUludDggZXh0ZW5kcyAkcGIuR2VuZXJhdGVk
TWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZlVJbnQ4KHsKICAgICRjb3JlLkl0ZXJhYmxlPFVJbnQ4Pj8g
ZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBu
dWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJl
c3VsdDsKICB9CiAgU2V0T2ZVSW50OC5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZVSW50OC5m
cm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIg
PSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVy
KGksIHIpOwogIGZhY3RvcnkgU2V0T2ZVSW50OC5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5F
eHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRl
KCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kg
PSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRPZlVJbnQ4JywgcGFj
a2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9u
c2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8VUludDg+KDEsIF9vbWl0
RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFVJ
bnQ4LmNyZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRl
cHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3Vy
IGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29w
eV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBT
ZXRPZlVJbnQ4IGNsb25lKCkgPT4gU2V0T2ZVSW50OCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwog
IEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3Zlcmhl
YWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lv
bnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJz
aW9uJykKICBTZXRPZlVJbnQ4IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZVSW50OCkgdXBkYXRl
cykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZlVJ
bnQ4KSkgYXMgU2V0T2ZVSW50ODsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAg
QCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mVUludDggY3JlYXRl
KCkgPT4gU2V0T2ZVSW50OC5fKCk7CiAgU2V0T2ZVSW50OCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4g
Y3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZVSW50OD4gY3JlYXRlUmVwZWF0ZWQoKSA9
PiAkcGIuUGJMaXN0PFNldE9mVUludDg+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIFNldE9mVUludDggZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89
ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZlVJbnQ4PihjcmVhdGUpOwogIHN0
YXRpYyBTZXRPZlVJbnQ4PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRj
b3JlLkxpc3Q8VUludDg+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgVUludDhBcnJh
eSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFVJbnQ4QXJyYXkoewogICAg
JGNvcmUuSXRlcmFibGU8JGZpeG51bS5JbnQ2ND4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3Vs
dCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRk
QWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFVJbnQ4QXJyYXkuXygpIDog
c3VwZXIoKTsKICBmYWN0b3J5IFVJbnQ4QXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmlu
dD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZ
XSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFVJbnQ4QXJyYXku
ZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRl
bnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBz
dGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2Fn
ZU5hbWVzID8gJycgOiAnVUludDhBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShf
b21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBj
cmVhdGUpCiAgICAuLnA8JGZpeG51bS5JbnQ2ND4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0
YScsICRwYi5QYkZpZWxkVHlwZS5LVTYpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7
CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3Zl
cmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVu
c2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3Ig
dmVyc2lvbicpCiAgVUludDhBcnJheSBjbG9uZSgpID0+IFVJbnQ4QXJyYXkoKS4ubWVyZ2VGcm9tTWVz
c2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25p
ZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdl
bmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5l
eHQgbWFqb3IgdmVyc2lvbicpCiAgVUludDhBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFVJbnQ4
QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3Nh
Z2UgYXMgVUludDhBcnJheSkpIGFzIFVJbnQ4QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5m
b18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBVSW50
OEFycmF5IGNyZWF0ZSgpID0+IFVJbnQ4QXJyYXkuXygpOwogIFVJbnQ4QXJyYXkgY3JlYXRlRW1wdHlJ
bnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFVJbnQ4QXJyYXk+IGNyZWF0
ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxVSW50OEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2Rh
cnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBVSW50OEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVs
dEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8VUludDhBcnJheT4o
Y3JlYXRlKTsKICBzdGF0aWMgVUludDhBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdO
dW1iZXIoMSkKICAkY29yZS5MaXN0PCRmaXhudW0uSW50NjQ+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgw
KTsKfQoKY2xhc3MgU2V0T2ZVSW50OEFycmF5IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2Ugewog
IGZhY3RvcnkgU2V0T2ZVSW50OEFycmF5KHsKICAgICRjb3JlLkl0ZXJhYmxlPFVJbnQ4QXJyYXk+PyBk
YXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51
bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVz
dWx0OwogIH0KICBTZXRPZlVJbnQ4QXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mVUlu
dDhBcnJheS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJl
Z2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VG
cm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZVSW50OEFycmF5LmZyb21Kc29uKCRjb3JlLlN0
cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1Q
VFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5C
dWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1Nl
dE9mVUludDhBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VO
YW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAu
LnBjPFVJbnQ4QXJyYXk+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVs
ZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFVJbnQ4QXJyYXkuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZp
ZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRk
IHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVz
c2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3Zl
ZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mVUludDhBcnJheSBjbG9uZSgpID0+IFNldE9m
VUludDhBcnJheSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAog
ICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcK
ICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4g
JwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlVJbnQ4QXJy
YXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZlVJbnQ4QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVy
LmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZVSW50OEFycmF5KSkg
YXMgU2V0T2ZVSW50OEFycmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBA
JGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZVSW50OEFycmF5IGNy
ZWF0ZSgpID0+IFNldE9mVUludDhBcnJheS5fKCk7CiAgU2V0T2ZVSW50OEFycmF5IGNyZWF0ZUVtcHR5
SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZlVJbnQ4QXJyYXk+
IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZlVJbnQ4QXJyYXk+KCk7CiAgQCRjb3Jl
LnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mVUludDhBcnJheSBnZXREZWZh
dWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0
Rm9yPFNldE9mVUludDhBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZVSW50OEFycmF5PyBfZGVm
YXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8VUludDhBcnJheT4g
Z2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBTdHJpbmcgZXh0ZW5kcyAkcGIuR2VuZXJh
dGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTdHJpbmcoewogICAgJGNvcmUuU3RyaW5nPyBkYXRhLAogIH0p
IHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAg
ICAgJHJlc3VsdC5kYXRhID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTdHJp
bmcuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFN0cmluZy5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNv
cmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnku
RU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU3RyaW5n
LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0
ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAg
c3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3Nh
Z2VOYW1lcyA/ICcnIDogJ1N0cmluZycsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVh
dGUpCiAgICAuLmFPUygxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJykKICAgIC4uaGFzUmVx
dWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTdHJpbmcgY2xvbmUoKSA9PiBTdHJpbmco
KS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhp
cyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2Vu
ZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBi
ZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU3RyaW5nIGNvcHlXaXRoKHZvaWQgRnVu
Y3Rpb24oU3RyaW5nKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRl
cyhtZXNzYWdlIGFzIFN0cmluZykpIGFzIFN0cmluZzsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZv
XyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFN0cmlu
ZyBjcmVhdGUoKSA9PiBTdHJpbmcuXygpOwogIFN0cmluZyBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4g
Y3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U3RyaW5nPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRw
Yi5QYkxpc3Q8U3RyaW5nPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0
YXRpYyBTdHJpbmcgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0
ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTdHJpbmc+KGNyZWF0ZSk7CiAgc3RhdGljIFN0cmluZz8gX2Rl
ZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5TdHJpbmcgZ2V0IGRhdGEg
PT4gJF9nZXRTWigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRhKCRjb3JlLlN0cmluZyB2
KSB7ICRfc2V0U3RyaW5nKDAsIHYpOyB9CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5ib29sIGhh
c0RhdGEoKSA9PiAkX2hhcygwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHZvaWQgY2xlYXJEYXRhKCkg
PT4gY2xlYXJGaWVsZCgxKTsKfQoKY2xhc3MgU2V0T2ZTdHJpbmcgZXh0ZW5kcyAkcGIuR2VuZXJhdGVk
TWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZlN0cmluZyh7CiAgICAkY29yZS5JdGVyYWJsZTxTdHJpbmc+
PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9
IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAk
cmVzdWx0OwogIH0KICBTZXRPZlN0cmluZy5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZTdHJp
bmcuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3Ry
eSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1
ZmZlcihpLCByKTsKICBmYWN0b3J5IFNldE9mU3RyaW5nLmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBb
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBj
cmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5m
byBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mU3RyaW5n
JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAn
cmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8U3RyaW5nPigx
LCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWls
ZGVyOiBTdHJpbmcuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBA
JGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFk
IHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25z
LmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNp
b24nKQogIFNldE9mU3RyaW5nIGNsb25lKCkgPT4gU2V0T2ZTdHJpbmcoKS4ubWVyZ2VGcm9tTWVzc2Fn
ZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmlj
YW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVy
aWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQg
bWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZTdHJpbmcgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZlN0
cmluZykgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2Fn
ZSBhcyBTZXRPZlN0cmluZykpIGFzIFNldE9mU3RyaW5nOwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGlu
Zm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0
T2ZTdHJpbmcgY3JlYXRlKCkgPT4gU2V0T2ZTdHJpbmcuXygpOwogIFNldE9mU3RyaW5nIGNyZWF0ZUVt
cHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZlN0cmluZz4g
Y3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mU3RyaW5nPigpOwogIEAkY29yZS5wcmFn
bWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlN0cmluZyBnZXREZWZhdWx0KCkgPT4g
X2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9m
U3RyaW5nPihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZlN0cmluZz8gX2RlZmF1bHRJbnN0YW5jZTsKCiAg
QCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PFN0cmluZz4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0
KDApOwp9CgpjbGFzcyBTdHJpbmdBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBm
YWN0b3J5IFN0cmluZ0FycmF5KHsKICAgICRjb3JlLkl0ZXJhYmxlPCRjb3JlLlN0cmluZz4/IGRhdGEs
CiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkg
ewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7
CiAgfQogIFN0cmluZ0FycmF5Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTdHJpbmdBcnJheS5mcm9t
QnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGks
IHIpOwogIGZhY3RvcnkgU3RyaW5nQXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0
ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgp
Li5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0g
JHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU3RyaW5nQXJyYXknLCBwYWNr
YWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25z
ZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wUFMoMSwgX29taXRGaWVsZE5h
bWVzID8gJycgOiAnZGF0YScpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAk
Y29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQg
dG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMu
ZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lv
bicpCiAgU3RyaW5nQXJyYXkgY2xvbmUoKSA9PiBTdHJpbmdBcnJheSgpLi5tZXJnZUZyb21NZXNzYWdl
KHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNh
bnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJp
Y0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBt
YWpvciB2ZXJzaW9uJykKICBTdHJpbmdBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFN0cmluZ0Fy
cmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdl
IGFzIFN0cmluZ0FycmF5KSkgYXMgU3RyaW5nQXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5m
b18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTdHJp
bmdBcnJheSBjcmVhdGUoKSA9PiBTdHJpbmdBcnJheS5fKCk7CiAgU3RyaW5nQXJyYXkgY3JlYXRlRW1w
dHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFN0cmluZ0FycmF5PiBj
cmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U3RyaW5nQXJyYXk+KCk7CiAgQCRjb3JlLnByYWdt
YSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFN0cmluZ0FycmF5IGdldERlZmF1bHQoKSA9PiBf
ZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U3RyaW5n
QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGljIFN0cmluZ0FycmF5PyBfZGVmYXVsdEluc3RhbmNlOwoKICBA
JHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8JGNvcmUuU3RyaW5nPiBnZXQgZGF0YSA9PiAkX2dl
dExpc3QoMCk7Cn0KCmNsYXNzIFNldE9mU3RyaW5nQXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVz
c2FnZSB7CiAgZmFjdG9yeSBTZXRPZlN0cmluZ0FycmF5KHsKICAgICRjb3JlLkl0ZXJhYmxlPFN0cmlu
Z0FycmF5Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAo
ZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICBy
ZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZTdHJpbmdBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3Rv
cnkgU2V0T2ZTdHJpbmdBcnJheS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVh
dGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZTdHJpbmdBcnJheS5mcm9t
SnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lv
blJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRp
YyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFt
ZXMgPyAnJyA6ICdTZXRPZlN0cmluZ0FycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1l
KF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6
IGNyZWF0ZSkKICAgIC4ucGM8U3RyaW5nQXJyYXk+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2Rh
dGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFN0cmluZ0FycmF5LmNyZWF0ZSkKICAg
IC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1Vz
aW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdV
c2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwog
ICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlN0cmluZ0FycmF5
IGNsb25lKCkgPT4gU2V0T2ZTdHJpbmdBcnJheSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAk
Y29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQg
dG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMu
cmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9u
JykKICBTZXRPZlN0cmluZ0FycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZTdHJpbmdBcnJh
eSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBh
cyBTZXRPZlN0cmluZ0FycmF5KSkgYXMgU2V0T2ZTdHJpbmdBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZv
IGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3Rh
dGljIFNldE9mU3RyaW5nQXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZTdHJpbmdBcnJheS5fKCk7CiAgU2V0
T2ZTdHJpbmdBcnJheSBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRw
Yi5QYkxpc3Q8U2V0T2ZTdHJpbmdBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNl
dE9mU3RyaW5nQXJyYXk+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3Rh
dGljIFNldE9mU3RyaW5nQXJyYXkgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZlN0cmluZ0FycmF5PihjcmVhdGUpOwog
IHN0YXRpYyBTZXRPZlN0cmluZ0FycmF5PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJl
cigxKQogICRjb3JlLkxpc3Q8U3RyaW5nQXJyYXk+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoK
Y2xhc3MgRmxvYXQgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBGbG9hdCh7
CiAgICAkY29yZS5kb3VibGU/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgp
OwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQog
ICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIEZsb2F0Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBGbG9h
dC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5
IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVm
ZmVyKGksIHIpOwogIGZhY3RvcnkgRmxvYXQuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0
ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgp
Li5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0g
JHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnRmxvYXQnLCBwYWNrYWdlOiBj
b25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwg
Y3JlYQ==
dGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmE8JGNvcmUuZG91YmxlPigxLCBfb21pdEZpZWxk
TmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLk9GKQogICAgLi5oYXNSZXF1aXJlZEZp
ZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRk
IHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVz
c2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3Zl
ZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIEZsb2F0IGNsb25lKCkgPT4gRmxvYXQoKS4ubWVyZ2VG
cm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRk
IHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVz
c2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVk
IGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgRmxvYXQgY29weVdpdGgodm9pZCBGdW5jdGlvbihGbG9h
dCkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBh
cyBGbG9hdCkpIGFzIEZsb2F0OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBA
JGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgRmxvYXQgY3JlYXRlKCkgPT4g
RmxvYXQuXygpOwogIEZsb2F0IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0
aWMgJHBiLlBiTGlzdDxGbG9hdD4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PEZsb2F0Pigp
OwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBGbG9hdCBnZXREZWZh
dWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0
Rm9yPEZsb2F0PihjcmVhdGUpOwogIHN0YXRpYyBGbG9hdD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRw
Yi5UYWdOdW1iZXIoMSkKICAkY29yZS5kb3VibGUgZ2V0IGRhdGEgPT4gJF9nZXROKDApOwogIEAkcGIu
VGFnTnVtYmVyKDEpCiAgc2V0IGRhdGEoJGNvcmUuZG91YmxlIHYpIHsgJF9zZXRGbG9hdCgwLCB2KTsg
fQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAg
QCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNsZWFyRGF0YSgpID0+IGNsZWFyRmllbGQoMSk7Cn0KCmNs
YXNzIFNldE9mRmxvYXQgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRP
ZkZsb2F0KHsKICAgICRjb3JlLkl0ZXJhYmxlPEZsb2F0Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAk
cmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0
YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZGbG9hdC5f
KCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZGbG9hdC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNv
cmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnku
RU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZG
bG9hdC5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7
CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRN
ZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRPZkZsb2F0JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VO
YW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFu
Y2U6IGNyZWF0ZSkKICAgIC4ucGM8RmxvYXQ+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEn
LCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IEZsb2F0LmNyZWF0ZSkKICAgIC4uaGFzUmVx
dWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkZsb2F0IGNsb25lKCkgPT4gU2V0
T2ZGbG9hdCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdV
c2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAn
VXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwog
ICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkZsb2F0IGNvcHlX
aXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZGbG9hdCkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1l
c3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZkZsb2F0KSkgYXMgU2V0T2ZGbG9hdDsKCiAg
JHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpu
b0lubGluZScpCiAgc3RhdGljIFNldE9mRmxvYXQgY3JlYXRlKCkgPT4gU2V0T2ZGbG9hdC5fKCk7CiAg
U2V0T2ZGbG9hdCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5Q
Ykxpc3Q8U2V0T2ZGbG9hdD4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mRmxvYXQ+
KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mRmxvYXQg
Z2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRf
ZGVmYXVsdEZvcjxTZXRPZkZsb2F0PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZkZsb2F0PyBfZGVmYXVs
dEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8RmxvYXQ+IGdldCBkYXRh
ID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgRmxvYXRBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0ZWRN
ZXNzYWdlIHsKICBmYWN0b3J5IEZsb2F0QXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JGNvcmUuZG91
YmxlPj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0
YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1
cm4gJHJlc3VsdDsKICB9CiAgRmxvYXRBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgRmxvYXRB
cnJheS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9t
QnVmZmVyKGksIHIpOwogIGZhY3RvcnkgRmxvYXRBcnJheS5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwg
WyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4g
Y3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlcklu
Zm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdGbG9hdEFycmF5
JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAn
cmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucDwkY29yZS5kb3Vi
bGU+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuS0YpCiAg
ICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdV
c2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAn
VXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcK
ICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgRmxvYXRBcnJheSBjbG9u
ZSgpID0+IEZsb2F0QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVj
YXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmlu
YXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGlu
c3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgRmxvYXRB
cnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKEZsb2F0QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNv
cHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgRmxvYXRBcnJheSkpIGFzIEZsb2F0
QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBGbG9hdEFycmF5IGNyZWF0ZSgpID0+IEZsb2F0QXJy
YXkuXygpOwogIEZsb2F0QXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0
YXRpYyAkcGIuUGJMaXN0PEZsb2F0QXJyYXk+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxG
bG9hdEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBG
bG9hdEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVk
TWVzc2FnZS4kX2RlZmF1bHRGb3I8RmxvYXRBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgRmxvYXRBcnJh
eT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PCRjb3Jl
LmRvdWJsZT4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBTZXRPZkZsb2F0QXJyYXkg
ZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZkZsb2F0QXJyYXkoewog
ICAgJGNvcmUuSXRlcmFibGU8RmxvYXRBcnJheT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3Vs
dCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRk
QWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mRmxvYXRBcnJheS5f
KCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZGbG9hdEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlz
dDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBT
ZXRPZkZsb2F0QXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21K
c29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJ
bmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZGbG9hdEFycmF5JywgcGFja2FnZTogY29u
c3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNy
ZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8RmxvYXRBcnJheT4oMSwgX29taXRGaWVs
ZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogRmxvYXRB
cnJheS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5E
ZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91
ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENv
cHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAg
U2V0T2ZGbG9hdEFycmF5IGNsb25lKCkgPT4gU2V0T2ZGbG9hdEFycmF5KCkuLm1lcmdlRnJvbU1lc3Nh
Z2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZp
Y2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5l
cmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0
IG1ham9yIHZlcnNpb24nKQogIFNldE9mRmxvYXRBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNl
dE9mRmxvYXRBcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0
ZXMobWVzc2FnZSBhcyBTZXRPZkZsb2F0QXJyYXkpKSBhcyBTZXRPZkZsb2F0QXJyYXk7CgogICRwYi5C
dWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9Jbmxp
bmUnKQogIHN0YXRpYyBTZXRPZkZsb2F0QXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZGbG9hdEFycmF5Ll8o
KTsKICBTZXRPZkZsb2F0QXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0
YXRpYyAkcGIuUGJMaXN0PFNldE9mRmxvYXRBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJM
aXN0PFNldE9mRmxvYXRBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykK
ICBzdGF0aWMgU2V0T2ZGbG9hdEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/
PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0T2ZGbG9hdEFycmF5PihjcmVhdGUp
OwogIHN0YXRpYyBTZXRPZkZsb2F0QXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVt
YmVyKDEpCiAgJGNvcmUuTGlzdDxGbG9hdEFycmF5PiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0K
CmNsYXNzIERvdWJsZSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IERvdWJs
ZSh7CiAgICBEb3VibGU/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwog
ICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAg
cmV0dXJuICRyZXN1bHQ7CiAgfQogIERvdWJsZS5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgRG91Ymxl
LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkg
ciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZm
ZXIoaSwgcik7CiAgZmFjdG9yeSBEb3VibGUuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0
ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgp
Li5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0g
JHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnRG91YmxlJywgcGFja2FnZTog
Y29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyks
IGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4uYU9NPERvdWJsZT4oMSwgX29taXRGaWVs
ZE5hbWVzID8gJycgOiAnZGF0YScsIHN1YkJ1aWxkZXI6IERvdWJsZS5jcmVhdGUpCiAgICAuLmhhc1Jl
cXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlz
IGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5l
cmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBi
ZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgRG91YmxlIGNsb25lKCkgPT4gRG91Ymxl
KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRo
aXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dl
bmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwg
YmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIERvdWJsZSBjb3B5V2l0aCh2b2lkIEZ1
bmN0aW9uKERvdWJsZSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0
ZXMobWVzc2FnZSBhcyBEb3VibGUpKSBhcyBEb3VibGU7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5m
b18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBEb3Vi
bGUgY3JlYXRlKCkgPT4gRG91YmxlLl8oKTsKICBEb3VibGUgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+
IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PERvdWJsZT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAk
cGIuUGJMaXN0PERvdWJsZT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBz
dGF0aWMgRG91YmxlIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJh
dGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8RG91YmxlPihjcmVhdGUpOwogIHN0YXRpYyBEb3VibGU/IF9k
ZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgRG91YmxlIGdldCBkYXRhID0+ICRf
Z2V0TigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRhKERvdWJsZSB2KSB7IHNldEZpZWxk
KDEsIHYpOyB9CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5ib29sIGhhc0RhdGEoKSA9PiAkX2hh
cygwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHZvaWQgY2xlYXJEYXRhKCkgPT4gY2xlYXJGaWVsZCgx
KTsKICBAJHBiLlRhZ051bWJlcigxKQogIERvdWJsZSBlbnN1cmVEYXRhKCkgPT4gJF9lbnN1cmUoMCk7
Cn0KCmNsYXNzIFNldE9mRG91YmxlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3Rv
cnkgU2V0T2ZEb3VibGUoewogICAgJGNvcmUuSXRlcmFibGU8RG91YmxlPj8gZGF0YSwKICB9KSB7CiAg
ICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRy
ZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0
T2ZEb3VibGUuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mRG91YmxlLmZyb21CdWZmZXIoJGNv
cmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNp
b25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFj
dG9yeSBTZXRPZkRvdWJsZS5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdp
c3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJv
bUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRl
ckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRPZkRvdWJsZScsIHBhY2thZ2U6IGNvbnN0
ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVh
dGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPERvdWJsZT4oMSwgX29taXRGaWVsZE5hbWVz
ID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogRG91YmxlLmNyZWF0
ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQo
CiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4g
JwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVh
ZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkRvdWJs
ZSBjbG9uZSgpID0+IFNldE9mRG91YmxlKCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3Jl
LkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5
b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1
aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQog
IFNldE9mRG91YmxlIGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZEb3VibGUpIHVwZGF0ZXMpID0+
IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZEb3VibGUp
KSBhcyBTZXRPZkRvdWJsZTsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRj
b3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mRG91YmxlIGNyZWF0ZSgp
ID0+IFNldE9mRG91YmxlLl8oKTsKICBTZXRPZkRvdWJsZSBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4g
Y3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZEb3VibGU+IGNyZWF0ZVJlcGVhdGVkKCkg
PT4gJHBiLlBiTGlzdDxTZXRPZkRvdWJsZT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgU2V0T2ZEb3VibGUgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2Ug
Pz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZkRvdWJsZT4oY3JlYXRlKTsK
ICBzdGF0aWMgU2V0T2ZEb3VibGU/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEp
CiAgJGNvcmUuTGlzdDxEb3VibGU+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgRG91
YmxlQXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBEb3VibGVBcnJh
eSh7CiAgICAkY29yZS5JdGVyYWJsZTxEb3VibGU+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1
bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFk
ZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBEb3VibGVBcnJheS5fKCkg
OiBzdXBlcigpOwogIGZhY3RvcnkgRG91YmxlQXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3Jl
LmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVN
UFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IERvdWJsZUFy
cmF5LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIu
RXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsK
CiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1l
c3NhZ2VOYW1lcyA/ICcnIDogJ0RvdWJsZUFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VO
YW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFu
Y2U6IGNyZWF0ZSkKICAgIC4ucGM8RG91YmxlPigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRh
JywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBEb3VibGUuY3JlYXRlKQogICAgLi5oYXNS
ZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhp
cyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2Vu
ZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwg
YmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIERvdWJsZUFycmF5IGNsb25lKCkgPT4g
RG91YmxlQXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgK
ICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAn
CiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQu
ICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgRG91YmxlQXJyYXkg
Y29weVdpdGgodm9pZCBGdW5jdGlvbihEb3VibGVBcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdp
dGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBEb3VibGVBcnJheSkpIGFzIERvdWJsZUFy
cmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdk
YXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgRG91YmxlQXJyYXkgY3JlYXRlKCkgPT4gRG91YmxlQXJy
YXkuXygpOwogIERvdWJsZUFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBz
dGF0aWMgJHBiLlBiTGlzdDxEb3VibGVBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0
PERvdWJsZUFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRp
YyBEb3VibGVBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVy
YXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPERvdWJsZUFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBEb3Vi
bGVBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0
PERvdWJsZT4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBTZXRPZkRvdWJsZUFycmF5
IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZEb3VibGVBcnJheSh7
CiAgICAkY29yZS5JdGVyYWJsZTxEb3VibGVBcnJheT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJl
c3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEu
YWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mRG91YmxlQXJy
YXkuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mRG91YmxlQXJyYXkuZnJvbUJ1ZmZlcigkY29y
ZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lv
blJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0
b3J5IFNldE9mRG91YmxlQXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9u
UmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJn
ZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1
aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZEb3VibGVBcnJheScsIHBhY2th
Z2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNl
cycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPERvdWJsZUFycmF5PigxLCBf
b21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVy
OiBEb3VibGVBcnJheS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7Cgog
IEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3Zlcmhl
YWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lv
bnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVy
c2lvbicpCiAgU2V0T2ZEb3VibGVBcnJheSBjbG9uZSgpID0+IFNldE9mRG91YmxlQXJyYXkoKS4ubWVy
Z2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4g
YWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVk
TWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1v
dmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZEb3VibGVBcnJheSBjb3B5V2l0aCh2b2lk
IEZ1bmN0aW9uKFNldE9mRG91YmxlQXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNz
YWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZEb3VibGVBcnJheSkpIGFzIFNldE9mRG91Ymxl
QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZkRvdWJsZUFycmF5IGNyZWF0ZSgpID0+IFNl
dE9mRG91YmxlQXJyYXkuXygpOwogIFNldE9mRG91YmxlQXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgp
ID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNldE9mRG91YmxlQXJyYXk+IGNyZWF0ZVJl
cGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZkRvdWJsZUFycmF5PigpOwogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZkRvdWJsZUFycmF5IGdldERlZmF1bHQoKSA9
PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0
T2ZEb3VibGVBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZEb3VibGVBcnJheT8gX2RlZmF1bHRJ
bnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PERvdWJsZUFycmF5PiBnZXQg
ZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIEludGVydmFsIGV4dGVuZHMgJHBiLkdlbmVyYXRl
ZE1lc3NhZ2UgewogIGZhY3RvcnkgSW50ZXJ2YWwoewogICAgJDAuSW50ZXJ2YWw/IGRhdGEsCiAgfSkg
ewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAg
ICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIEludGVy
dmFsLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBJbnRlcnZhbC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8
JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0
cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgSW50
ZXJ2YWwuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRw
Yi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIp
OwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0
TWVzc2FnZU5hbWVzID8gJycgOiAnSW50ZXJ2YWwnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5h
bWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5j
ZTogY3JlYXRlKQogICAgLi5hT008JDAuSW50ZXJ2YWw+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDog
J2RhdGEnLCBzdWJCdWlsZGVyOiAkMC5JbnRlcnZhbC5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmll
bGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQg
c2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNz
YWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVk
IGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgSW50ZXJ2YWwgY2xvbmUoKSA9PiBJbnRlcnZhbCgpLi5t
ZXJnZQ==
RnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFk
ZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1l
c3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3Zl
ZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIEludGVydmFsIGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24o
SW50ZXJ2YWwpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1l
c3NhZ2UgYXMgSW50ZXJ2YWwpKSBhcyBJbnRlcnZhbDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZv
XyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEludGVy
dmFsIGNyZWF0ZSgpID0+IEludGVydmFsLl8oKTsKICBJbnRlcnZhbCBjcmVhdGVFbXB0eUluc3RhbmNl
KCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8SW50ZXJ2YWw+IGNyZWF0ZVJlcGVhdGVk
KCkgPT4gJHBiLlBiTGlzdDxJbnRlcnZhbD4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgSW50ZXJ2YWwgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89
ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxJbnRlcnZhbD4oY3JlYXRlKTsKICBzdGF0
aWMgSW50ZXJ2YWw/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJDAuSW50
ZXJ2YWwgZ2V0IGRhdGEgPT4gJF9nZXROKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgc2V0IGRhdGEo
JDAuSW50ZXJ2YWwgdikgeyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNv
cmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNs
ZWFyRGF0YSgpID0+IGNsZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5JbnRlcnZh
bCBlbnN1cmVEYXRhKCkgPT4gJF9lbnN1cmUoMCk7Cn0KCmNsYXNzIFNldE9mSW50ZXJ2YWwgZXh0ZW5k
cyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZkludGVydmFsKHsKICAgICRjb3Jl
Lkl0ZXJhYmxlPEludGVydmFsPj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRl
KCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7
CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZJbnRlcnZhbC5fKCkgOiBzdXBlcigp
OwogIGZhY3RvcnkgU2V0T2ZJbnRlcnZhbC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBp
LCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9
PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZJbnRlcnZhbC5m
cm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0
YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdl
TmFtZXMgPyAnJyA6ICdTZXRPZkludGVydmFsJywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1l
KF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6
IGNyZWF0ZSkKICAgIC4ucGM8SW50ZXJ2YWw+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEn
LCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IEludGVydmFsLmNyZWF0ZSkKICAgIC4uaGFz
UmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRo
aXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dl
bmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxs
IGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkludGVydmFsIGNsb25lKCkg
PT4gU2V0T2ZJbnRlcnZhbCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNh
dGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5h
cnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5z
dGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZklu
dGVydmFsIGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZJbnRlcnZhbCkgdXBkYXRlcykgPT4gc3Vw
ZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZkludGVydmFsKSkg
YXMgU2V0T2ZJbnRlcnZhbDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRj
b3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mSW50ZXJ2YWwgY3JlYXRl
KCkgPT4gU2V0T2ZJbnRlcnZhbC5fKCk7CiAgU2V0T2ZJbnRlcnZhbCBjcmVhdGVFbXB0eUluc3RhbmNl
KCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZJbnRlcnZhbD4gY3JlYXRlUmVw
ZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mSW50ZXJ2YWw+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFy
dDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mSW50ZXJ2YWwgZ2V0RGVmYXVsdCgpID0+IF9kZWZh
dWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZkludGVy
dmFsPihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZkludGVydmFsPyBfZGVmYXVsdEluc3RhbmNlOwoKICBA
JHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8SW50ZXJ2YWw+IGdldCBkYXRhID0+ICRfZ2V0TGlz
dCgwKTsKfQoKY2xhc3MgSW50ZXJ2YWxBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsK
ICBmYWN0b3J5IEludGVydmFsQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JDAuSW50ZXJ2YWw+PyBk
YXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51
bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVz
dWx0OwogIH0KICBJbnRlcnZhbEFycmF5Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBJbnRlcnZhbEFy
cmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21C
dWZmZXIoaSwgcik7CiAgZmFjdG9yeSBJbnRlcnZhbEFycmF5LmZyb21Kc29uKCRjb3JlLlN0cmluZyBp
LCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9
PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVy
SW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ0ludGVydmFs
QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAn
JyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzwkMC5J
bnRlcnZhbD4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5Q
TSwgc3ViQnVpbGRlcjogJDAuSW50ZXJ2YWwuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9
IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25p
ZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdl
bmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBu
ZXh0IG1ham9yIHZlcnNpb24nKQogIEludGVydmFsQXJyYXkgY2xvbmUoKSA9PiBJbnRlcnZhbEFycmF5
KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRo
aXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dl
bmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwg
YmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIEludGVydmFsQXJyYXkgY29weVdpdGgo
dm9pZCBGdW5jdGlvbihJbnRlcnZhbEFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVz
c2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIEludGVydmFsQXJyYXkpKSBhcyBJbnRlcnZhbEFycmF5
OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0
MmpzOm5vSW5saW5lJykKICBzdGF0aWMgSW50ZXJ2YWxBcnJheSBjcmVhdGUoKSA9PiBJbnRlcnZhbEFy
cmF5Ll8oKTsKICBJbnRlcnZhbEFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsK
ICBzdGF0aWMgJHBiLlBiTGlzdDxJbnRlcnZhbEFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5Q
Ykxpc3Q8SW50ZXJ2YWxBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykK
ICBzdGF0aWMgSW50ZXJ2YWxBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0g
JHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPEludGVydmFsQXJyYXk+KGNyZWF0ZSk7CiAg
c3RhdGljIEludGVydmFsQXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEp
CiAgJGNvcmUuTGlzdDwkMC5JbnRlcnZhbD4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFz
cyBTZXRPZkludGVydmFsQXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9y
eSBTZXRPZkludGVydmFsQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8SW50ZXJ2YWxBcnJheT4/IGRh
dGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVs
bCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1
bHQ7CiAgfQogIFNldE9mSW50ZXJ2YWxBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZJ
bnRlcnZhbEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5z
aW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5t
ZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZkludGVydmFsQXJyYXkuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnU2V0T2ZJbnRlcnZhbEFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9v
bWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNy
ZWF0ZSkKICAgIC4ucGM8SW50ZXJ2YWxBcnJheT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0
YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogSW50ZXJ2YWxBcnJheS5jcmVhdGUpCiAg
ICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdV
c2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAn
VXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcK
ICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZJbnRlcnZhbEFy
cmF5IGNsb25lKCkgPT4gU2V0T2ZJbnRlcnZhbEFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7
CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVy
aGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5z
aW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZl
cnNpb24nKQogIFNldE9mSW50ZXJ2YWxBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mSW50
ZXJ2YWxBcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMo
bWVzc2FnZSBhcyBTZXRPZkludGVydmFsQXJyYXkpKSBhcyBTZXRPZkludGVydmFsQXJyYXk7CgogICRw
Yi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9J
bmxpbmUnKQogIHN0YXRpYyBTZXRPZkludGVydmFsQXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZJbnRlcnZh
bEFycmF5Ll8oKTsKICBTZXRPZkludGVydmFsQXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNy
ZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNldE9mSW50ZXJ2YWxBcnJheT4gY3JlYXRlUmVwZWF0
ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mSW50ZXJ2YWxBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdk
YXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZJbnRlcnZhbEFycmF5IGdldERlZmF1bHQoKSA9
PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0
T2ZJbnRlcnZhbEFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZkludGVydmFsQXJyYXk/IF9kZWZh
dWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxJbnRlcnZhbEFycmF5
PiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIEJ5dGVzIGV4dGVuZHMgJHBiLkdlbmVy
YXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgQnl0ZXMoewogICAgJGNvcmUuTGlzdDwkY29yZS5pbnQ+PyBk
YXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51
bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0Owog
IH0KICBCeXRlcy5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgQnl0ZXMuZnJvbUJ1ZmZlcigkY29yZS5M
aXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJl
Z2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5
IEJ5dGVzLmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCBy
KTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ0J5dGVzJywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1l
KF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6
IGNyZWF0ZSkKICAgIC4uYTwkY29yZS5MaXN0PCRjb3JlLmludD4+KDEsIF9vbWl0RmllbGROYW1lcyA/
ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuT1kpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0g
ZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlm
aWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2Vu
ZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5l
eHQgbWFqb3IgdmVyc2lvbicpCiAgQnl0ZXMgY2xvbmUoKSA9PiBCeXRlcygpLi5tZXJnZUZyb21NZXNz
YWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlm
aWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2Vu
ZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4
dCBtYWpvciB2ZXJzaW9uJykKICBCeXRlcyBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKEJ5dGVzKSB1cGRh
dGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIEJ5dGVz
KSkgYXMgQnl0ZXM7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5w
cmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBCeXRlcyBjcmVhdGUoKSA9PiBCeXRlcy5f
KCk7CiAgQnl0ZXMgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIu
UGJMaXN0PEJ5dGVzPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8Qnl0ZXM+KCk7CiAgQCRj
b3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEJ5dGVzIGdldERlZmF1bHQoKSA9
PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8Qnl0
ZXM+KGNyZWF0ZSk7CiAgc3RhdGljIEJ5dGVzPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051
bWJlcigxKQogICRjb3JlLkxpc3Q8JGNvcmUuaW50PiBnZXQgZGF0YSA9PiAkX2dldE4oMCk7CiAgQCRw
Yi5UYWdOdW1iZXIoMSkKICBzZXQgZGF0YSgkY29yZS5MaXN0PCRjb3JlLmludD4gdikgeyAkX3NldEJ5
dGVzKDAsIHYpOyB9CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5ib29sIGhhc0RhdGEoKSA9PiAk
X2hhcygwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHZvaWQgY2xlYXJEYXRhKCkgPT4gY2xlYXJGaWVs
ZCgxKTsKfQoKY2xhc3MgU2V0T2ZCeXRlcyBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBm
YWN0b3J5IFNldE9mQnl0ZXMoewogICAgJGNvcmUuSXRlcmFibGU8Qnl0ZXM+PyBkYXRhLAogIH0pIHsK
ICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAg
JHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBT
ZXRPZkJ5dGVzLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRPZkJ5dGVzLmZyb21CdWZmZXIoJGNv
cmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNp
b25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFj
dG9yeSBTZXRPZkJ5dGVzLmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9t
SnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVy
SW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mQnl0ZXMnLCBwYWNrYWdlOiBjb25zdCAk
cGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRl
RW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxCeXRlcz4oMSwgX29taXRGaWVsZE5hbWVzID8g
JycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogQnl0ZXMuY3JlYXRlKQog
ICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAn
VXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAg
J1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAn
CiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mQnl0ZXMgY2xv
bmUoKSA9PiBTZXRPZkJ5dGVzKCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJl
Y2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJp
bmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9m
Qnl0ZXMgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkJ5dGVzKSB1cGRhdGVzKSA9PiBzdXBlci5j
b3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mQnl0ZXMpKSBhcyBTZXRP
ZkJ5dGVzOwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21h
KCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZCeXRlcyBjcmVhdGUoKSA9PiBTZXRPZkJ5
dGVzLl8oKTsKICBTZXRPZkJ5dGVzIGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBz
dGF0aWMgJHBiLlBiTGlzdDxTZXRPZkJ5dGVzPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8
U2V0T2ZCeXRlcz4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMg
U2V0T2ZCeXRlcyBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRl
ZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mQnl0ZXM+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mQnl0
ZXM/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxCeXRl
cz4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBCb29sIGV4dGVuZHMgJHBiLkdlbmVy
YXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgQm9vbCh7CiAgICAkY29yZS5ib29sPyBkYXRhLAogIH0pIHsK
ICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAg
JHJlc3VsdC5kYXRhID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBCb29sLl8o
KSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBCb29sLmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+
IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0p
ID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBCb29sLmZyb21Kc29u
KCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVn
aXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZp
bmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/
ICcnIDogJ0Jvb2wnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFt
ZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5h
T0IoMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRz
ID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2ln
bmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdl
R2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGlu
IG5leHQgbWFqb3IgdmVyc2lvbicpCiAgQm9vbCBjbG9uZSgpID0+IEJvb2woKS4ubWVyZ2VGcm9tTWVz
c2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25p
ZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdl
bmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5l
eHQgbWFqb3IgdmVyc2lvbicpCiAgQm9vbCBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKEJvb2wpIHVwZGF0
ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgQm9vbCkp
IGFzIEJvb2w7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFn
bWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBCb29sIGNyZWF0ZSgpID0+IEJvb2wuXygpOwog
IEJvb2wgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0
PEJvb2w+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxCb29sPigpOwogIEAkY29yZS5wcmFn
bWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBCb29sIGdldERlZmF1bHQoKSA9PiBfZGVmYXVs
dEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8Qm9vbD4oY3JlYXRl
KTsKICBzdGF0aWMgQm9vbD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAk
Y29yZS5ib29sIGdldCBkYXRhID0+ICRfZ2V0QkYoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICBzZXQg
ZGF0YSgkY29yZS5ib29sIHYpIHsgJF9zZXRCb29sKDAsIHYpOyB9CiAgQCRwYi5UYWdOdW1iZXIoMSkK
ICAkY29yZS5ib29sIGhhc0RhdGEoKSA9PiAkX2hhcygwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHZv
aWQgY2xlYXJEYXRhKCkgPT4gY2xlYXJGaWVsZCgxKTsKfQoKY2xhc3MgU2V0T2ZCb29sIGV4dGVuZHMg
JHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZCb29sKHsKICAgICRjb3JlLkl0ZXJh
YmxlPEJvb2w+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlm
IChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAg
IHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkJvb2wuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNl
dE9mQm9vbC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJl
Z2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VG
cm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZCb29sLmZyb21Kc29uKCRjb3JlLlN0cmluZyBp
LCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9
PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVy
SW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mQm9v
bCcsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDog
J3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPEJvb2w+KDEs
IF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxk
ZXI6IEJvb2wuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNv
cmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRv
IHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRl
ZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24n
KQogIFNldE9mQm9vbCBjbG9uZSgpID0+IFNldE9mQm9vbCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMp
OwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3Zl
cmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVu
c2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2
ZXJzaW9uJykKICBTZXRPZkJvb2wgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkJvb2wpIHVwZGF0
ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZC
b29sKSkgYXMgU2V0T2ZCb29sOwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBA
JGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZCb29sIGNyZWF0ZSgp
ID0+IFNldE9mQm9vbC5fKCk7CiAgU2V0T2ZCb29sIGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVh
dGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkJvb2w+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBi
LlBiTGlzdDxTZXRPZkJvb2w+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAg
c3RhdGljIFNldE9mQm9vbCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdl
bmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mQm9vbD4oY3JlYXRlKTsKICBzdGF0aWMgU2V0
T2ZCb29sPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8
Qm9vbD4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBCb29sQXJyYXkgZXh0ZW5kcyAk
cGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBCb29sQXJyYXkoewogICAgJGNvcmUuSXRlcmFi
bGU8JGNvcmUuYm9vbD4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwog
ICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAg
fQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIEJvb2xBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3Rv
cnkgQm9vbEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5z
aW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5t
ZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBCb29sQXJyYXkuZnJvbUpzb24oJGNvcmUuU3Ry
aW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBU
WV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1
aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnQm9v
bEFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucDwkY29y
ZS5ib29sPigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLktC
KQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgK
ICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAn
CiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFk
LiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIEJvb2xBcnJheSBj
bG9uZSgpID0+IEJvb2xBcnJheSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXBy
ZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBi
aW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0g
aW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBCb29s
QXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihCb29sQXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNv
cHlXaQ==
dGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBCb29sQXJyYXkpKSBhcyBCb29sQXJyYXk7
CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQy
anM6bm9JbmxpbmUnKQogIHN0YXRpYyBCb29sQXJyYXkgY3JlYXRlKCkgPT4gQm9vbEFycmF5Ll8oKTsK
ICBCb29sQXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIu
UGJMaXN0PEJvb2xBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PEJvb2xBcnJheT4o
KTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgQm9vbEFycmF5IGdl
dERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2Rl
ZmF1bHRGb3I8Qm9vbEFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBCb29sQXJyYXk/IF9kZWZhdWx0SW5z
dGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwkY29yZS5ib29sPiBnZXQgZGF0
YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFNldE9mQm9vbEFycmF5IGV4dGVuZHMgJHBiLkdlbmVy
YXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZCb29sQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8
Qm9vbEFycmF5Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBp
ZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAg
ICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZCb29sQXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0
b3J5IFNldE9mQm9vbEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIu
RXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0
ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZkJvb2xBcnJheS5mcm9tSnNv
bigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJl
Z2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBm
aW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMg
PyAnJyA6ICdTZXRPZkJvb2xBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVh
dGUpCiAgICAuLnBjPEJvb2xBcnJheT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRw
Yi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogQm9vbEFycmF5LmNyZWF0ZSkKICAgIC4uaGFzUmVx
dWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkJvb2xBcnJheSBjbG9uZSgpID0+
IFNldE9mQm9vbEFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0
ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFy
eS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0
ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mQm9v
bEFycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZCb29sQXJyYXkpIHVwZGF0ZXMpID0+IHN1
cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZCb29sQXJyYXkp
KSBhcyBTZXRPZkJvb2xBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAg
QCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mQm9vbEFycmF5IGNy
ZWF0ZSgpID0+IFNldE9mQm9vbEFycmF5Ll8oKTsKICBTZXRPZkJvb2xBcnJheSBjcmVhdGVFbXB0eUlu
c3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZCb29sQXJyYXk+IGNy
ZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZkJvb2xBcnJheT4oKTsKICBAJGNvcmUucHJh
Z21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZCb29sQXJyYXkgZ2V0RGVmYXVsdCgp
ID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxT
ZXRPZkJvb2xBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZCb29sQXJyYXk/IF9kZWZhdWx0SW5z
dGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxCb29sQXJyYXk+IGdldCBkYXRh
ID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgUG9pbnQgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2Fn
ZSB7CiAgZmFjdG9yeSBQb2ludCh7CiAgICAkMC5Qb2ludD8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAk
cmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0
YSA9IGRhdGE7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgUG9pbnQuXygpIDogc3VwZXIo
KTsKICBmYWN0b3J5IFBvaW50LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIu
RXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0
ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBQb2ludC5mcm9tSnNvbigkY29yZS5T
dHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVN
UFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIu
QnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdQ
b2ludCcsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcn
IDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmFPTTwkMC5Q
b2ludD4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsIHN1YkJ1aWxkZXI6ICQwLlBvaW50
LmNyZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJl
Y2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJp
bmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0g
aW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBQb2lu
dCBjbG9uZSgpID0+IFBvaW50KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJl
Y2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJp
bmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFBvaW50
IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oUG9pbnQpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKCht
ZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgUG9pbnQpKSBhcyBQb2ludDsKCiAgJHBiLkJ1aWxk
ZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScp
CiAgc3RhdGljIFBvaW50IGNyZWF0ZSgpID0+IFBvaW50Ll8oKTsKICBQb2ludCBjcmVhdGVFbXB0eUlu
c3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8UG9pbnQ+IGNyZWF0ZVJlcGVh
dGVkKCkgPT4gJHBiLlBiTGlzdDxQb2ludD4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgUG9pbnQgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxQb2ludD4oY3JlYXRlKTsKICBzdGF0aWMgUG9p
bnQ/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJDAuUG9pbnQgZ2V0IGRh
dGEgPT4gJF9nZXROKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgc2V0IGRhdGEoJDAuUG9pbnQgdikg
eyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuYm9vbCBoYXNEYXRh
KCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNsZWFyRGF0YSgpID0+IGNs
ZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5Qb2ludCBlbnN1cmVEYXRhKCkgPT4g
JF9lbnN1cmUoMCk7Cn0KCmNsYXNzIFNldE9mUG9pbnQgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2Fn
ZSB7CiAgZmFjdG9yeSBTZXRPZlBvaW50KHsKICAgICRjb3JlLkl0ZXJhYmxlPFBvaW50Pj8gZGF0YSwK
ICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7
CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsK
ICB9CiAgU2V0T2ZQb2ludC5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZQb2ludC5mcm9tQnVm
ZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIu
RXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIp
OwogIGZhY3RvcnkgU2V0T2ZQb2ludC5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNp
b25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1l
cmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIu
QnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRPZlBvaW50JywgcGFja2FnZTog
Y29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyks
IGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8UG9pbnQ+KDEsIF9vbWl0RmllbGRO
YW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFBvaW50LmNy
ZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0
ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFy
eS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5z
dGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlBv
aW50IGNsb25lKCkgPT4gU2V0T2ZQb2ludCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVi
dWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykK
ICBTZXRPZlBvaW50IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZQb2ludCkgdXBkYXRlcykgPT4g
c3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZlBvaW50KSkg
YXMgU2V0T2ZQb2ludDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3Jl
LnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mUG9pbnQgY3JlYXRlKCkgPT4g
U2V0T2ZQb2ludC5fKCk7CiAgU2V0T2ZQb2ludCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRl
KCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZQb2ludD4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIu
UGJMaXN0PFNldE9mUG9pbnQ+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAg
c3RhdGljIFNldE9mUG9pbnQgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5H
ZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZlBvaW50PihjcmVhdGUpOwogIHN0YXRpYyBT
ZXRPZlBvaW50PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxp
c3Q8UG9pbnQ+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgUG9pbnRBcnJheSBleHRl
bmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFBvaW50QXJyYXkoewogICAgJGNvcmUu
SXRlcmFibGU8JDAuUG9pbnQ+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUo
KTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsK
ICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBQb2ludEFycmF5Ll8oKSA6IHN1cGVyKCk7CiAg
ZmFjdG9yeSBQb2ludEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIu
RXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0
ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBQb2ludEFycmF5LmZyb21Kc29uKCRj
b3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0
cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFs
ICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcn
IDogJ1BvaW50QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdl
TmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAg
Li5wYzwkMC5Qb2ludD4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxk
VHlwZS5QTSwgc3ViQnVpbGRlcjogJDAuUG9pbnQuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxk
cyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNp
Z25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2Fn
ZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBp
biBuZXh0IG1ham9yIHZlcnNpb24nKQogIFBvaW50QXJyYXkgY2xvbmUoKSA9PiBQb2ludEFycmF5KCku
Lm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUg
cmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFBvaW50QXJyYXkgY29weVdpdGgodm9pZCBG
dW5jdGlvbihQb2ludEFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4g
dXBkYXRlcyhtZXNzYWdlIGFzIFBvaW50QXJyYXkpKSBhcyBQb2ludEFycmF5OwoKICAkcGIuQnVpbGRl
ckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykK
ICBzdGF0aWMgUG9pbnRBcnJheSBjcmVhdGUoKSA9PiBQb2ludEFycmF5Ll8oKTsKICBQb2ludEFycmF5
IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxQb2lu
dEFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8UG9pbnRBcnJheT4oKTsKICBAJGNv
cmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgUG9pbnRBcnJheSBnZXREZWZhdWx0
KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9y
PFBvaW50QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGljIFBvaW50QXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7
CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwkMC5Qb2ludD4gZ2V0IGRhdGEgPT4gJF9n
ZXRMaXN0KDApOwp9CgpjbGFzcyBTZXRPZlBvaW50QXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVz
c2FnZSB7CiAgZmFjdG9yeSBTZXRPZlBvaW50QXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8UG9pbnRB
cnJheT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRh
dGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0
dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mUG9pbnRBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3Rvcnkg
U2V0T2ZQb2ludEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0
ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgp
Li5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZlBvaW50QXJyYXkuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnU2V0T2ZQb2ludEFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0
TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0
ZSkKICAgIC4ucGM8UG9pbnRBcnJheT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRw
Yi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogUG9pbnRBcnJheS5jcmVhdGUpCiAgICAuLmhhc1Jl
cXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlz
IGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5l
cmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBi
ZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZQb2ludEFycmF5IGNsb25lKCkg
PT4gU2V0T2ZQb2ludEFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJl
Y2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJp
bmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9m
UG9pbnRBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mUG9pbnRBcnJheSkgdXBkYXRlcykg
PT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZlBvaW50
QXJyYXkpKSBhcyBTZXRPZlBvaW50QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4g
X2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlBvaW50
QXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZQb2ludEFycmF5Ll8oKTsKICBTZXRPZlBvaW50QXJyYXkgY3Jl
YXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNldE9mUG9p
bnRBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mUG9pbnRBcnJheT4oKTsK
ICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZQb2ludEFycmF5
IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4k
X2RlZmF1bHRGb3I8U2V0T2ZQb2ludEFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZlBvaW50QXJy
YXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxQb2lu
dEFycmF5PiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIExpbmUgZXh0ZW5kcyAkcGIu
R2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBMaW5lKHsKICAgICQwLkxpbmU/IGRhdGEsCiAgfSkg
ewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAg
ICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIExpbmUu
XygpIDogc3VwZXIoKTsKICBmYWN0b3J5IExpbmUuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmlu
dD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZ
XSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IExpbmUuZnJvbUpz
b24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25S
ZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMg
ZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVz
ID8gJycgOiAnTGluZScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VO
YW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAu
LmFPTTwkMC5MaW5lPigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgc3ViQnVpbGRlcjog
JDAuTGluZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVl
cENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicp
CiAgTGluZSBjbG9uZSgpID0+IExpbmUoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUu
RGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlv
dXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVp
bGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAg
TGluZSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKExpbmUpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRo
KChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgTGluZSkpIGFzIExpbmU7CgogICRwYi5CdWls
ZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUn
KQogIHN0YXRpYyBMaW5lIGNyZWF0ZSgpID0+IExpbmUuXygpOwogIExpbmUgY3JlYXRlRW1wdHlJbnN0
YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PExpbmU+IGNyZWF0ZVJlcGVhdGVk
KCkgPT4gJHBiLlBiTGlzdDxMaW5lPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUn
KQogIHN0YXRpYyBMaW5lIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2Vu
ZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8TGluZT4oY3JlYXRlKTsKICBzdGF0aWMgTGluZT8gX2Rl
ZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5MaW5lIGdldCBkYXRhID0+ICRf
Z2V0TigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRhKCQwLkxpbmUgdikgeyBzZXRGaWVs
ZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9o
YXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNsZWFyRGF0YSgpID0+IGNsZWFyRmllbGQo
MSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5MaW5lIGVuc3VyZURhdGEoKSA9PiAkX2Vuc3VyZSgw
KTsKfQoKY2xhc3MgU2V0T2ZMaW5lIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3Rv
cnkgU2V0T2ZMaW5lKHsKICAgICRjb3JlLkl0ZXJhYmxlPExpbmU+PyBkYXRhLAogIH0pIHsKICAgIGZp
bmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3Vs
dC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkxp
bmUuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mTGluZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8
JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0
cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0
T2ZMaW5lLmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCBy
KTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mTGluZScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdl
TmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3Rh
bmNlOiBjcmVhdGUpCiAgICAuLnBjPExpbmU+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEn
LCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IExpbmUuY3JlYXRlKQogICAgLi5oYXNSZXF1
aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBj
YW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJh
dGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUg
cmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mTGluZSBjbG9uZSgpID0+IFNldE9m
TGluZSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2lu
ZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNl
IFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdX
aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkxpbmUgY29weVdpdGgo
dm9pZCBGdW5jdGlvbihTZXRPZkxpbmUpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdl
KSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZMaW5lKSkgYXMgU2V0T2ZMaW5lOwoKICAkcGIuQnVp
bGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5l
JykKICBzdGF0aWMgU2V0T2ZMaW5lIGNyZWF0ZSgpID0+IFNldE9mTGluZS5fKCk7CiAgU2V0T2ZMaW5l
IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRP
ZkxpbmU+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZkxpbmU+KCk7CiAgQCRjb3Jl
LnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mTGluZSBnZXREZWZhdWx0KCkg
PT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNl
dE9mTGluZT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZMaW5lPyBfZGVmYXVsdEluc3RhbmNlOwoKICBA
JHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8TGluZT4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDAp
Owp9CgpjbGFzcyBMaW5lQXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9y
eSBMaW5lQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JDAuTGluZT4/IGRhdGEsCiAgfSkgewogICAg
ZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVz
dWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIExpbmVB
cnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgTGluZUFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlz
dDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBM
aW5lQXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9
ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGks
IHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9v
bWl0TWVzc2FnZU5hbWVzID8gJycgOiAnTGluZUFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2th
Z2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5z
dGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8JDAuTGluZT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAn
ZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogJDAuTGluZS5jcmVhdGUpCiAgICAu
Lmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2lu
ZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNl
IFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAn
V2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgTGluZUFycmF5IGNsb25lKCkg
PT4gTGluZUFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQo
CiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4g
JwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFk
LiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIExpbmVBcnJheSBj
b3B5V2l0aCh2b2lkIEZ1bmN0aW9uKExpbmVBcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgo
KG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBMaW5lQXJyYXkpKSBhcyBMaW5lQXJyYXk7Cgog
ICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6
bm9JbmxpbmUnKQogIHN0YXRpYyBMaW5lQXJyYXkgY3JlYXRlKCkgPT4gTGluZUFycmF5Ll8oKTsKICBM
aW5lQXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJM
aXN0PExpbmVBcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PExpbmVBcnJheT4oKTsK
ICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgTGluZUFycmF5IGdldERl
ZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1
bHRGb3I8TGluZUFycmF5PihjcmVhdGUpOwogIHN0YXRpYyBMaW5lQXJyYXk/IF9kZWZhdWx0SW5zdGFu
Y2U7Cg==
CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PCQwLkxpbmU+IGdldCBkYXRhID0+ICRfZ2V0
TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZMaW5lQXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2Fn
ZSB7CiAgZmFjdG9yeSBTZXRPZkxpbmVBcnJheSh7CiAgICAkY29yZS5JdGVyYWJsZTxMaW5lQXJyYXk+
PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9
IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAk
cmVzdWx0OwogIH0KICBTZXRPZkxpbmVBcnJheS5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZM
aW5lQXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25S
ZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdl
RnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNldE9mTGluZUFycmF5LmZyb21Kc29uKCRjb3JlLlN0
cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1Q
VFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5C
dWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1Nl
dE9mTGluZUFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5h
bWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4u
cGM8TGluZUFycmF5PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRU
eXBlLlBNLCBzdWJCdWlsZGVyOiBMaW5lQXJyYXkuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxk
cyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNp
Z25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2Fn
ZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBp
biBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mTGluZUFycmF5IGNsb25lKCkgPT4gU2V0T2ZMaW5l
QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNp
bmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1Vz
ZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAn
V2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZMaW5lQXJyYXkgY29w
eVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkxpbmVBcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdp
dGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZkxpbmVBcnJheSkpIGFzIFNldE9m
TGluZUFycmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJh
Z21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZMaW5lQXJyYXkgY3JlYXRlKCkgPT4g
U2V0T2ZMaW5lQXJyYXkuXygpOwogIFNldE9mTGluZUFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9
PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkxpbmVBcnJheT4gY3JlYXRlUmVwZWF0
ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mTGluZUFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQy
anM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZkxpbmVBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1
bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mTGluZUFy
cmF5PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZkxpbmVBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAg
QCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PExpbmVBcnJheT4gZ2V0IGRhdGEgPT4gJF9nZXRM
aXN0KDApOwp9CgpjbGFzcyBMaW5lU2VnbWVudCBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsK
ICBmYWN0b3J5IExpbmVTZWdtZW50KHsKICAgICQwLkxpbmVTZWdtZW50PyBkYXRhLAogIH0pIHsKICAg
IGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJl
c3VsdC5kYXRhID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBMaW5lU2VnbWVu
dC5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgTGluZVNlZ21lbnQuZnJvbUJ1ZmZlcigkY29yZS5MaXN0
PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IExp
bmVTZWdtZW50LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIg
PSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihp
LCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhf
b21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ0xpbmVTZWdtZW50JywgcGFja2FnZTogY29uc3QgJHBiLlBh
Y2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5
SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4uYU9NPCQwLkxpbmVTZWdtZW50PigxLCBfb21pdEZpZWxkTmFt
ZXMgPyAnJyA6ICdkYXRhJywgc3ViQnVpbGRlcjogJDAuTGluZVNlZ21lbnQuY3JlYXRlKQogICAgLi5o
YXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcg
dGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBb
R2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dp
bGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIExpbmVTZWdtZW50IGNsb25lKCkg
PT4gTGluZVNlZ21lbnQoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRl
ZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5
LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3Rl
YWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgTGluZVNlZ21l
bnQgY29weVdpdGgodm9pZCBGdW5jdGlvbihMaW5lU2VnbWVudCkgdXBkYXRlcykgPT4gc3VwZXIuY29w
eVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBMaW5lU2VnbWVudCkpIGFzIExpbmVT
ZWdtZW50OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21h
KCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgTGluZVNlZ21lbnQgY3JlYXRlKCkgPT4gTGluZVNl
Z21lbnQuXygpOwogIExpbmVTZWdtZW50IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsK
ICBzdGF0aWMgJHBiLlBiTGlzdDxMaW5lU2VnbWVudD4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJM
aXN0PExpbmVTZWdtZW50PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0
YXRpYyBMaW5lU2VnbWVudCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdl
bmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPExpbmVTZWdtZW50PihjcmVhdGUpOwogIHN0YXRpYyBM
aW5lU2VnbWVudD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5MaW5l
U2VnbWVudCBnZXQgZGF0YSA9PiAkX2dldE4oMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICBzZXQgZGF0
YSgkMC5MaW5lU2VnbWVudCB2KSB7IHNldEZpZWxkKDEsIHYpOyB9CiAgQCRwYi5UYWdOdW1iZXIoMSkK
ICAkY29yZS5ib29sIGhhc0RhdGEoKSA9PiAkX2hhcygwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHZv
aWQgY2xlYXJEYXRhKCkgPT4gY2xlYXJGaWVsZCgxKTsKICBAJHBiLlRhZ051bWJlcigxKQogICQwLkxp
bmVTZWdtZW50IGVuc3VyZURhdGEoKSA9PiAkX2Vuc3VyZSgwKTsKfQoKY2xhc3MgU2V0T2ZMaW5lU2Vn
bWVudCBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mTGluZVNlZ21l
bnQoewogICAgJGNvcmUuSXRlcmFibGU8TGluZVNlZ21lbnQ+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFs
ICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5k
YXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkxpbmVT
ZWdtZW50Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRPZkxpbmVTZWdtZW50LmZyb21CdWZmZXIo
JGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRl
bnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAg
ZmFjdG9yeSBTZXRPZkxpbmVTZWdtZW50LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4u
bWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRw
Yi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mTGluZVNlZ21lbnQnLCBw
YWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNw
b25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxMaW5lU2VnbWVudD4o
MSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVp
bGRlcjogTGluZVNlZ21lbnQuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAg
OwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92
ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRl
bnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9y
IHZlcnNpb24nKQogIFNldE9mTGluZVNlZ21lbnQgY2xvbmUoKSA9PiBTZXRPZkxpbmVTZWdtZW50KCku
Lm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUg
cmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mTGluZVNlZ21lbnQgY29weVdpdGgo
dm9pZCBGdW5jdGlvbihTZXRPZkxpbmVTZWdtZW50KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgo
bWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mTGluZVNlZ21lbnQpKSBhcyBTZXRPZkxp
bmVTZWdtZW50OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJh
Z21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZMaW5lU2VnbWVudCBjcmVhdGUoKSA9
PiBTZXRPZkxpbmVTZWdtZW50Ll8oKTsKICBTZXRPZkxpbmVTZWdtZW50IGNyZWF0ZUVtcHR5SW5zdGFu
Y2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkxpbmVTZWdtZW50PiBjcmVh
dGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZMaW5lU2VnbWVudD4oKTsKICBAJGNvcmUucHJh
Z21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZMaW5lU2VnbWVudCBnZXREZWZhdWx0
KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9y
PFNldE9mTGluZVNlZ21lbnQ+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mTGluZVNlZ21lbnQ/IF9kZWZh
dWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxMaW5lU2VnbWVudD4g
Z2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBMaW5lU2VnbWVudEFycmF5IGV4dGVuZHMg
JHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgTGluZVNlZ21lbnRBcnJheSh7CiAgICAkY29y
ZS5JdGVyYWJsZTwkMC5MaW5lU2VnbWVudD4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9
IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxs
KGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIExpbmVTZWdtZW50QXJyYXkuXygp
IDogc3VwZXIoKTsKICBmYWN0b3J5IExpbmVTZWdtZW50QXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0
PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IExp
bmVTZWdtZW50QXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21K
c29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJ
bmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnTGluZVNlZ21lbnRBcnJheScsIHBhY2thZ2U6IGNv
bnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBj
cmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPCQwLkxpbmVTZWdtZW50PigxLCBfb21p
dEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiAk
MC5MaW5lU2VnbWVudC5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7Cgog
IEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3Zlcmhl
YWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lv
bnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVy
c2lvbicpCiAgTGluZVNlZ21lbnRBcnJheSBjbG9uZSgpID0+IExpbmVTZWdtZW50QXJyYXkoKS4ubWVy
Z2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4g
YWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVk
TWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1v
dmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgTGluZVNlZ21lbnRBcnJheSBjb3B5V2l0aCh2b2lk
IEZ1bmN0aW9uKExpbmVTZWdtZW50QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNz
YWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgTGluZVNlZ21lbnRBcnJheSkpIGFzIExpbmVTZWdtZW50
QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBMaW5lU2VnbWVudEFycmF5IGNyZWF0ZSgpID0+IExp
bmVTZWdtZW50QXJyYXkuXygpOwogIExpbmVTZWdtZW50QXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgp
ID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PExpbmVTZWdtZW50QXJyYXk+IGNyZWF0ZVJl
cGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxMaW5lU2VnbWVudEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBMaW5lU2VnbWVudEFycmF5IGdldERlZmF1bHQoKSA9
PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8TGlu
ZVNlZ21lbnRBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgTGluZVNlZ21lbnRBcnJheT8gX2RlZmF1bHRJ
bnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PCQwLkxpbmVTZWdtZW50PiBn
ZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFNldE9mTGluZVNlZ21lbnRBcnJheSBleHRl
bmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mTGluZVNlZ21lbnRBcnJheSh7
CiAgICAkY29yZS5JdGVyYWJsZTxMaW5lU2VnbWVudEFycmF5Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5h
bCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQu
ZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZMaW5l
U2VnbWVudEFycmF5Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRPZkxpbmVTZWdtZW50QXJyYXku
ZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSBy
ID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZl
cihpLCByKTsKICBmYWN0b3J5IFNldE9mTGluZVNlZ21lbnRBcnJheS5mcm9tSnNvbigkY29yZS5TdHJp
bmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZ
XSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVp
bGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRP
ZkxpbmVTZWdtZW50QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNz
YWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQog
ICAgLi5wYzxMaW5lU2VnbWVudEFycmF5PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywg
JHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBMaW5lU2VnbWVudEFycmF5LmNyZWF0ZSkKICAg
IC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1Vz
aW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdV
c2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwog
ICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkxpbmVTZWdtZW50
QXJyYXkgY2xvbmUoKSA9PiBTZXRPZkxpbmVTZWdtZW50QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0
aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50
IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNF
eHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFq
b3IgdmVyc2lvbicpCiAgU2V0T2ZMaW5lU2VnbWVudEFycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24o
U2V0T2ZMaW5lU2VnbWVudEFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkg
PT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mTGluZVNlZ21lbnRBcnJheSkpIGFzIFNldE9mTGluZVNl
Z21lbnRBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnBy
YWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mTGluZVNlZ21lbnRBcnJheSBjcmVh
dGUoKSA9PiBTZXRPZkxpbmVTZWdtZW50QXJyYXkuXygpOwogIFNldE9mTGluZVNlZ21lbnRBcnJheSBj
cmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZM
aW5lU2VnbWVudEFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZMaW5lU2Vn
bWVudEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBT
ZXRPZkxpbmVTZWdtZW50QXJyYXkgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZkxpbmVTZWdtZW50QXJyYXk+KGNyZWF0
ZSk7CiAgc3RhdGljIFNldE9mTGluZVNlZ21lbnRBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRw
Yi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PExpbmVTZWdtZW50QXJyYXk+IGdldCBkYXRhID0+ICRf
Z2V0TGlzdCgwKTsKfQoKY2xhc3MgQm94IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZh
Y3RvcnkgQm94KHsKICAgICQwLkJveD8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3Jl
YXRlKCk7CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YSA9IGRhdGE7CiAg
ICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgQm94Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBC
b3guZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3Ry
eSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1
ZmZlcihpLCByKTsKICBmYWN0b3J5IEJveC5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRl
bnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCku
Lm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAk
cGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdCb3gnLCBwYWNrYWdlOiBjb25z
dCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3Jl
YXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5hT008JDAuQm94PigxLCBfb21pdEZpZWxkTmFt
ZXMgPyAnJyA6ICdkYXRhJywgc3ViQnVpbGRlcjogJDAuQm94LmNyZWF0ZSkKICAgIC4uaGFzUmVxdWly
ZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2Fu
IGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRl
ZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJl
bW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBCb3ggY2xvbmUoKSA9PiBCb3goKS4ubWVyZ2VG
cm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRk
IHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVz
c2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVk
IGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgQm94IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oQm94KSB1
cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIEJv
eCkpIGFzIEJveDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnBy
YWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIEJveCBjcmVhdGUoKSA9PiBCb3guXygpOwog
IEJveCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8
Qm94PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8Qm94PigpOwogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBCb3ggZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5z
dGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxCb3g+KGNyZWF0ZSk7CiAg
c3RhdGljIEJveD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5Cb3gg
Z2V0IGRhdGEgPT4gJF9nZXROKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgc2V0IGRhdGEoJDAuQm94
IHYpIHsgc2V0RmllbGQoMSwgdik7IH0KICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLmJvb2wgaGFz
RGF0YSgpID0+ICRfaGFzKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgdm9pZCBjbGVhckRhdGEoKSA9
PiBjbGVhckZpZWxkKDEpOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJDAuQm94IGVuc3VyZURhdGEoKSA9
PiAkX2Vuc3VyZSgwKTsKfQoKY2xhc3MgU2V0T2ZCb3ggZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2Fn
ZSB7CiAgZmFjdG9yeSBTZXRPZkJveCh7CiAgICAkY29yZS5JdGVyYWJsZTxCb3g+PyBkYXRhLAogIH0p
IHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAg
ICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0K
ICBTZXRPZkJveC5fKCkgOiBzdXBlcigpOwogIGZhY3RvcnkgU2V0T2ZCb3guZnJvbUJ1ZmZlcigkY29y
ZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lv
blJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0
b3J5IFNldE9mQm94LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5
IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNv
bihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5m
byhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mQm94JywgcGFja2FnZTogY29uc3QgJHBiLlBh
Y2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5
SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8Qm94PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdk
YXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBCb3guY3JlYXRlKQogICAgLi5oYXNS
ZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhp
cyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2Vu
ZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwg
YmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mQm94IGNsb25lKCkgPT4gU2V0
T2ZCb3goKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNp
bmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1Vz
ZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAn
V2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZCb3ggY29weVdpdGgo
dm9pZCBGdW5jdGlvbihTZXRPZkJveCkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2Up
ID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBTZXRPZkJveCkpIGFzIFNldE9mQm94OwoKICAkcGIuQnVpbGRl
ckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykK
ICBzdGF0aWMgU2V0T2ZCb3ggY3JlYXRlKCkgPT4gU2V0T2ZCb3guXygpOwogIFNldE9mQm94IGNyZWF0
ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkJveD4g
Y3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFNldE9mQm94PigpOwogIEAkY29yZS5wcmFnbWEo
J2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZkJveCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1
bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mQm94Pihj
cmVhdGUpOwogIHN0YXRpYyBTZXRPZkJveD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1i
ZXIoMSkKICAkY29yZS5MaXN0PEJveD4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBC
b3hBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IEJveEFycmF5KHsK
ICAgICRjb3JlLkl0ZXJhYmxlPCQwLkJveD4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9
IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxs
KGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIEJveEFycmF5Ll8oKSA6IHN1cGVy
KCk7CiAgZmFjdG9yeSBCb3hBcnJheS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBb
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBj
cmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgQm94QXJyYXkuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnQm94QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdl
TmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAg
Li5wYzwkMC5Cb3g+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5
cGUuUE0sIHN1YkJ1aWxkZXI6ICQwLkJveC5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0g
ZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlm
aWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2Vu
ZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5l
eHQgbWFqb3IgdmVyc2lvbicpCiAgQm94QXJyYXkgY2xvbmUoKSA9PiBCb3hBcnJheSgpLi5tZXJnZUZy
b21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQg
c2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNz
YWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQg
aW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBCb3hBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKEJv
eEFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNz
YWdlIGFzIEJveEFycmF5KSkgYXMgQm94QXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18g
PT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBCb3hBcnJh
eSBjcmVhdGUoKSA9PiBCb3hBcnJheS5fKCk7CiAgQm94QXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgp
ID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PEJveEFycmF5PiBjcmVhdGVSZXBlYXRlZCgp
ID0+ICRwYi5QYkxpc3Q8Qm94QXJyYXk+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIEJveEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAk
cGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8Qm94QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGlj
IEJveA==
QXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwk
MC5Cb3g+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZCb3hBcnJheSBleHRl
bmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mQm94QXJyYXkoewogICAgJGNv
cmUuSXRlcmFibGU8Qm94QXJyYXk+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVh
dGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRh
KTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkJveEFycmF5Ll8oKSA6IHN1cGVy
KCk7CiAgZmFjdG9yeSBTZXRPZkJveEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+
IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0p
ID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZkJveEFycmF5
LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0
ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAg
c3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3Nh
Z2VOYW1lcyA/ICcnIDogJ1NldE9mQm94QXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5h
bWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5j
ZTogY3JlYXRlKQogICAgLi5wYzxCb3hBcnJheT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0
YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogQm94QXJyYXkuY3JlYXRlKQogICAgLi5o
YXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcg
dGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBb
R2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dp
bGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mQm94QXJyYXkgY2xvbmUo
KSA9PiBTZXRPZkJveEFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJl
Y2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJp
bmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9m
Qm94QXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZkJveEFycmF5KSB1cGRhdGVzKSA9PiBz
dXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mQm94QXJyYXkp
KSBhcyBTZXRPZkJveEFycmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBA
JGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZCb3hBcnJheSBjcmVh
dGUoKSA9PiBTZXRPZkJveEFycmF5Ll8oKTsKICBTZXRPZkJveEFycmF5IGNyZWF0ZUVtcHR5SW5zdGFu
Y2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkJveEFycmF5PiBjcmVhdGVS
ZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZCb3hBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdk
YXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZCb3hBcnJheSBnZXREZWZhdWx0KCkgPT4gX2Rl
ZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mQm94
QXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mQm94QXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7Cgog
IEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxCb3hBcnJheT4gZ2V0IGRhdGEgPT4gJF9nZXRM
aXN0KDApOwp9CgpjbGFzcyBQYXRoIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3Rv
cnkgUGF0aCh7CiAgICAkMC5QYXRoPyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVh
dGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhID0gZGF0YTsKICAg
IH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBQYXRoLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBQ
YXRoLmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21C
dWZmZXIoaSwgcik7CiAgZmFjdG9yeSBQYXRoLmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4
dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUo
KS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9
ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1BhdGgnLCBwYWNrYWdlOiBj
b25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwg
Y3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5hT008JDAuUGF0aD4oMSwgX29taXRGaWVs
ZE5hbWVzID8gJycgOiAnZGF0YScsIHN1YkJ1aWxkZXI6ICQwLlBhdGguY3JlYXRlKQogICAgLi5oYXNS
ZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhp
cyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2Vu
ZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwg
YmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFBhdGggY2xvbmUoKSA9PiBQYXRoKCku
Lm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMg
Y2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVy
YXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUg
cmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFBhdGggY29weVdpdGgodm9pZCBGdW5jdGlv
bihQYXRoKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNz
YWdlIGFzIFBhdGgpKSBhcyBQYXRoOwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoK
ICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgUGF0aCBjcmVhdGUoKSA9
PiBQYXRoLl8oKTsKICBQYXRoIGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0
aWMgJHBiLlBiTGlzdDxQYXRoPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8UGF0aD4oKTsK
ICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgUGF0aCBnZXREZWZhdWx0
KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9y
PFBhdGg+KGNyZWF0ZSk7CiAgc3RhdGljIFBhdGg/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAkcGIuVGFn
TnVtYmVyKDEpCiAgJDAuUGF0aCBnZXQgZGF0YSA9PiAkX2dldE4oMCk7CiAgQCRwYi5UYWdOdW1iZXIo
MSkKICBzZXQgZGF0YSgkMC5QYXRoIHYpIHsgc2V0RmllbGQoMSwgdik7IH0KICBAJHBiLlRhZ051bWJl
cigxKQogICRjb3JlLmJvb2wgaGFzRGF0YSgpID0+ICRfaGFzKDApOwogIEAkcGIuVGFnTnVtYmVyKDEp
CiAgdm9pZCBjbGVhckRhdGEoKSA9PiBjbGVhckZpZWxkKDEpOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAg
JDAuUGF0aCBlbnN1cmVEYXRhKCkgPT4gJF9lbnN1cmUoMCk7Cn0KCmNsYXNzIFNldE9mUGF0aCBleHRl
bmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mUGF0aCh7CiAgICAkY29yZS5J
dGVyYWJsZTxQYXRoPj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAg
ICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9
CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZQYXRoLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9y
eSBTZXRPZlBhdGguZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNp
b25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1l
cmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNldE9mUGF0aC5mcm9tSnNvbigkY29yZS5TdHJp
bmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZ
XSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVp
bGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRP
ZlBhdGgnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAn
JyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxQYXRo
PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJC
dWlsZGVyOiBQYXRoLmNyZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAg
QCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVh
ZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9u
cy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJz
aW9uJykKICBTZXRPZlBhdGggY2xvbmUoKSA9PiBTZXRPZlBhdGgoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0
aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50
IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNF
eHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFq
b3IgdmVyc2lvbicpCiAgU2V0T2ZQYXRoIGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZQYXRoKSB1
cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNl
dE9mUGF0aCkpIGFzIFNldE9mUGF0aDsKCiAgJHBiLkJ1aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsK
CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mUGF0aCBjcmVh
dGUoKSA9PiBTZXRPZlBhdGguXygpOwogIFNldE9mUGF0aCBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4g
Y3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZQYXRoPiBjcmVhdGVSZXBlYXRlZCgpID0+
ICRwYi5QYkxpc3Q8U2V0T2ZQYXRoPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUn
KQogIHN0YXRpYyBTZXRPZlBhdGggZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZlBhdGg+KGNyZWF0ZSk7CiAgc3RhdGlj
IFNldE9mUGF0aD8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5M
aXN0PFBhdGg+IGdldCBkYXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgUGF0aEFycmF5IGV4dGVu
ZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgUGF0aEFycmF5KHsKICAgICRjb3JlLkl0
ZXJhYmxlPCQwLlBhdGg+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsK
ICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAg
IH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBQYXRoQXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0
b3J5IFBhdGhBcnJheS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4u
bWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgUGF0aEFycmF5LmZyb21Kc29uKCRjb3JlLlN0
cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1Q
VFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5C
dWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1Bh
dGhBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/
ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPCQw
LlBhdGg+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0s
IHN1YkJ1aWxkZXI6ICQwLlBhdGguY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNl
CiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50
IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNF
eHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1h
am9yIHZlcnNpb24nKQogIFBhdGhBcnJheSBjbG9uZSgpID0+IFBhdGhBcnJheSgpLi5tZXJnZUZyb21N
ZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2ln
bmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdl
R2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4g
bmV4dCBtYWpvciB2ZXJzaW9uJykKICBQYXRoQXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihQYXRo
QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3Nh
Z2UgYXMgUGF0aEFycmF5KSkgYXMgUGF0aEFycmF5OwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9f
ID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgUGF0aEFy
cmF5IGNyZWF0ZSgpID0+IFBhdGhBcnJheS5fKCk7CiAgUGF0aEFycmF5IGNyZWF0ZUVtcHR5SW5zdGFu
Y2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxQYXRoQXJyYXk+IGNyZWF0ZVJlcGVh
dGVkKCkgPT4gJHBiLlBiTGlzdDxQYXRoQXJyYXk+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpu
b0lubGluZScpCiAgc3RhdGljIFBhdGhBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5j
ZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFBhdGhBcnJheT4oY3JlYXRlKTsK
ICBzdGF0aWMgUGF0aEFycmF5PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQog
ICRjb3JlLkxpc3Q8JDAuUGF0aD4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBTZXRP
ZlBhdGhBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mUGF0
aEFycmF5KHsKICAgICRjb3JlLkl0ZXJhYmxlPFBhdGhBcnJheT4/IGRhdGEsCiAgfSkgewogICAgZmlu
YWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0
LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mUGF0
aEFycmF5Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTZXRPZlBhdGhBcnJheS5mcm9tQnVmZmVyKCRj
b3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5z
aW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZh
Y3RvcnkgU2V0T2ZQYXRoQXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9u
UmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJn
ZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1
aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZQYXRoQXJyYXknLCBwYWNrYWdl
OiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMn
KSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxQYXRoQXJyYXk+KDEsIF9vbWl0
RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFBh
dGhBcnJheS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVl
cENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicp
CiAgU2V0T2ZQYXRoQXJyYXkgY2xvbmUoKSA9PiBTZXRPZlBhdGhBcnJheSgpLi5tZXJnZUZyb21NZXNz
YWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlm
aWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2Vu
ZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4
dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlBhdGhBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNl
dE9mUGF0aEFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRl
cyhtZXNzYWdlIGFzIFNldE9mUGF0aEFycmF5KSkgYXMgU2V0T2ZQYXRoQXJyYXk7CgogICRwYi5CdWls
ZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUn
KQogIHN0YXRpYyBTZXRPZlBhdGhBcnJheSBjcmVhdGUoKSA9PiBTZXRPZlBhdGhBcnJheS5fKCk7CiAg
U2V0T2ZQYXRoQXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAk
cGIuUGJMaXN0PFNldE9mUGF0aEFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0
T2ZQYXRoQXJyYXk+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGlj
IFNldE9mUGF0aEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2Vu
ZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0T2ZQYXRoQXJyYXk+KGNyZWF0ZSk7CiAgc3RhdGlj
IFNldE9mUGF0aEFycmF5PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRj
b3JlLkxpc3Q8UGF0aEFycmF5PiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFBvbHln
b24gZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBQb2x5Z29uKHsKICAgICQw
LlBvbHlnb24/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYg
KGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJu
ICRyZXN1bHQ7CiAgfQogIFBvbHlnb24uXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFBvbHlnb24uZnJv
bUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0g
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihp
LCByKTsKICBmYWN0b3J5IFBvbHlnb24uZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5z
aW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5t
ZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBi
LkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnUG9seWdvbicsIHBhY2thZ2U6IGNv
bnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBj
cmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmFPTTwkMC5Qb2x5Z29uPigxLCBfb21pdEZp
ZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgc3ViQnVpbGRlcjogJDAuUG9seWdvbi5jcmVhdGUpCiAgICAu
Lmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2lu
ZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNl
IFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAn
V2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgUG9seWdvbiBjbG9uZSgpID0+
IFBvbHlnb24oKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAn
VXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAg
J1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcK
ICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgUG9seWdvbiBjb3B5V2l0
aCh2b2lkIEZ1bmN0aW9uKFBvbHlnb24pIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdl
KSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgUG9seWdvbikpIGFzIFBvbHlnb247CgogICRwYi5CdWlsZGVy
SW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQog
IHN0YXRpYyBQb2x5Z29uIGNyZWF0ZSgpID0+IFBvbHlnb24uXygpOwogIFBvbHlnb24gY3JlYXRlRW1w
dHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFBvbHlnb24+IGNyZWF0
ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxQb2x5Z29uPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQy
anM6bm9JbmxpbmUnKQogIHN0YXRpYyBQb2x5Z29uIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3Rh
bmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8UG9seWdvbj4oY3JlYXRlKTsK
ICBzdGF0aWMgUG9seWdvbj8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAk
MC5Qb2x5Z29uIGdldCBkYXRhID0+ICRfZ2V0TigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBk
YXRhKCQwLlBvbHlnb24gdikgeyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAg
JGNvcmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lk
IGNsZWFyRGF0YSgpID0+IGNsZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5Qb2x5
Z29uIGVuc3VyZURhdGEoKSA9PiAkX2Vuc3VyZSgwKTsKfQoKY2xhc3MgU2V0T2ZQb2x5Z29uIGV4dGVu
ZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZQb2x5Z29uKHsKICAgICRjb3Jl
Lkl0ZXJhYmxlPFBvbHlnb24+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUo
KTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsK
ICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZlBvbHlnb24uXygpIDogc3VwZXIoKTsK
ICBmYWN0b3J5IFNldE9mUG9seWdvbi5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBb
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBj
cmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZQb2x5Z29uLmZyb21K
c29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9u
UmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGlj
IGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1l
cyA/ICcnIDogJ1NldE9mUG9seWdvbicsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVh
dGUpCiAgICAuLnBjPFBvbHlnb24+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIu
UGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFBvbHlnb24uY3JlYXRlKQogICAgLi5oYXNSZXF1aXJl
ZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4g
YWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVk
TWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVt
b3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mUG9seWdvbiBjbG9uZSgpID0+IFNldE9m
UG9seWdvbigpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdV
c2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAn
VXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwog
ICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlBvbHlnb24gY29w
eVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZlBvbHlnb24pIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRo
KChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZQb2x5Z29uKSkgYXMgU2V0T2ZQb2x5
Z29uOwoKICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdk
YXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU2V0T2ZQb2x5Z29uIGNyZWF0ZSgpID0+IFNldE9mUG9s
eWdvbi5fKCk7CiAgU2V0T2ZQb2x5Z29uIGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsK
ICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZlBvbHlnb24+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBi
TGlzdDxTZXRPZlBvbHlnb24+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAg
c3RhdGljIFNldE9mUG9seWdvbiBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0YW5jZSA/Pz0gJHBi
LkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mUG9seWdvbj4oY3JlYXRlKTsKICBzdGF0
aWMgU2V0T2ZQb2x5Z29uPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRj
b3JlLkxpc3Q8UG9seWdvbj4gZ2V0IGRhdGEgPT4gJF9nZXRMaXN0KDApOwp9CgpjbGFzcyBQb2x5Z29u
QXJyYXkgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBQb2x5Z29uQXJyYXko
ewogICAgJGNvcmUuSXRlcmFibGU8JDAuUG9seWdvbj4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJl
c3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEu
YWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFBvbHlnb25BcnJheS5f
KCkgOiBzdXBlcigpOwogIGZhY3RvcnkgUG9seWdvbkFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwk
Y29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3Ry
eS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBQb2x5
Z29uQXJyYXkuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9
ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGks
IHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9v
bWl0TWVzc2FnZU5hbWVzID8gJycgOiAnUG9seWdvbkFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBh
Y2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5
SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8JDAuUG9seWdvbj4oMSwgX29taXRGaWVsZE5hbWVzID8g
JycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogJDAuUG9seWdvbi5jcmVh
dGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVk
KAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnku
ICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3Rl
YWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgUG9seWdvbkFy
cmF5IGNsb25lKCkgPT4gUG9seWdvbkFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRj
b3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0
byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5y
ZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24n
KQogIFBvbHlnb25BcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFBvbHlnb25BcnJheSkgdXBkYXRl
cykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVzc2FnZSBhcyBQb2x5Z29u
QXJyYXkpKSBhcyBQb2x5Z29uQXJyYXk7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7
CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBQb2x5Z29uQXJyYXkg
Y3JlYXRlKCkgPT4gUG9seWdvbkFycmF5Ll8oKTsKICBQb2x5Z29uQXJyYXkgY3JlYXRlRW1wdHlJbnN0
YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFBvbHlnb25BcnJheT4gY3JlYXRl
UmVwZWF0ZWQoKSA9PiAkcGIuUGJMaXN0PFBvbHlnb25BcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdk
YXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgUG9seWdvbkFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVm
YXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8UG9seWdvbkFy
cmF5PihjcmVhdGUpOwogIHN0YXRpYyBQb2x5Z29uQXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAk
cGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwkMC5Qb2x5Z29uPiBnZXQgZGF0YSA9PiAkX2dldExp
c3QoMCk7Cn0KCmNsYXNzIFNldE9mUG9seWdvbkFycmF5IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3Nh
Z2UgewogIGZhY3RvcnkgU2V0T2ZQb2x5Z29uQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8UG9seWdv
bkFycmF5Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAo
ZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICBy
ZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZQb2x5Z29uQXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0
b3J5IA==
U2V0T2ZQb2x5Z29uQXJyYXkuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5F
eHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRl
KCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNldE9mUG9seWdvbkFycmF5LmZyb21K
c29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9u
UmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGlj
IGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1l
cyA/ICcnIDogJ1NldE9mUG9seWdvbkFycmF5JywgcGFja2FnZTogY29uc3QgJHBiLlBhY2thZ2VOYW1l
KF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5SW5zdGFuY2U6
IGNyZWF0ZSkKICAgIC4ucGM8UG9seWdvbkFycmF5PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdk
YXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBQb2x5Z29uQXJyYXkuY3JlYXRlKQog
ICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAn
VXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAg
J1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBpbnN0ZWFkLiAn
CiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9mUG9seWdvbkFy
cmF5IGNsb25lKCkgPT4gU2V0T2ZQb2x5Z29uQXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsK
ICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJo
ZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNp
b25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVy
c2lvbicpCiAgU2V0T2ZQb2x5Z29uQXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRPZlBvbHln
b25BcnJheSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMobWVz
c2FnZSBhcyBTZXRPZlBvbHlnb25BcnJheSkpIGFzIFNldE9mUG9seWdvbkFycmF5OwoKICAkcGIuQnVp
bGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5l
JykKICBzdGF0aWMgU2V0T2ZQb2x5Z29uQXJyYXkgY3JlYXRlKCkgPT4gU2V0T2ZQb2x5Z29uQXJyYXku
XygpOwogIFNldE9mUG9seWdvbkFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsK
ICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZlBvbHlnb25BcnJheT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAk
cGIuUGJMaXN0PFNldE9mUG9seWdvbkFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9J
bmxpbmUnKQogIHN0YXRpYyBTZXRPZlBvbHlnb25BcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJ
bnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mUG9seWdvbkFy
cmF5PihjcmVhdGUpOwogIHN0YXRpYyBTZXRPZlBvbHlnb25BcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsK
CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PFBvbHlnb25BcnJheT4gZ2V0IGRhdGEgPT4g
JF9nZXRMaXN0KDApOwp9CgpjbGFzcyBDaXJjbGUgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7
CiAgZmFjdG9yeSBDaXJjbGUoewogICAgJDAuQ2lyY2xlPyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRy
ZXN1bHQgPSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRh
ID0gZGF0YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBDaXJjbGUuXygpIDogc3VwZXIo
KTsKICBmYWN0b3J5IENpcmNsZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVh
dGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgQ2lyY2xlLmZyb21Kc29uKCRjb3Jl
LlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnku
RU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRw
Yi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDog
J0NpcmNsZScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/
ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmFPTTwk
MC5DaXJjbGU+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCBzdWJCdWlsZGVyOiAkMC5D
aXJjbGUuY3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUu
RGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlv
dXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBD
b3B5XSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQog
IENpcmNsZSBjbG9uZSgpID0+IENpcmNsZSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVi
dWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykK
ICBDaXJjbGUgY29weVdpdGgodm9pZCBGdW5jdGlvbihDaXJjbGUpIHVwZGF0ZXMpID0+IHN1cGVyLmNv
cHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgQ2lyY2xlKSkgYXMgQ2lyY2xlOwoK
ICAkcGIuQnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0Mmpz
Om5vSW5saW5lJykKICBzdGF0aWMgQ2lyY2xlIGNyZWF0ZSgpID0+IENpcmNsZS5fKCk7CiAgQ2lyY2xl
IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxDaXJj
bGU+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxDaXJjbGU+KCk7CiAgQCRjb3JlLnByYWdt
YSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIENpcmNsZSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1
bHRJbnN0YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPENpcmNsZT4oY3Jl
YXRlKTsKICBzdGF0aWMgQ2lyY2xlPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigx
KQogICQwLkNpcmNsZSBnZXQgZGF0YSA9PiAkX2dldE4oMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICBz
ZXQgZGF0YSgkMC5DaXJjbGUgdikgeyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEp
CiAgJGNvcmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2
b2lkIGNsZWFyRGF0YSgpID0+IGNsZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5D
aXJjbGUgZW5zdXJlRGF0YSgpID0+ICRfZW5zdXJlKDApOwp9CgpjbGFzcyBTZXRPZkNpcmNsZSBleHRl
bmRzICRwYi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mQ2lyY2xlKHsKICAgICRjb3Jl
Lkl0ZXJhYmxlPENpcmNsZT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgp
OwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwog
ICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mQ2lyY2xlLl8oKSA6IHN1cGVyKCk7CiAg
ZmFjdG9yeSBTZXRPZkNpcmNsZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVh
dGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZDaXJjbGUuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnU2V0T2ZDaXJjbGUnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNz
YWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQog
ICAgLi5wYzxDaXJjbGU+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVs
ZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IENpcmNsZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRz
ID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2ln
bmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdl
R2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGlu
IG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZDaXJjbGUgY2xvbmUoKSA9PiBTZXRPZkNpcmNsZSgp
Li5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlz
IGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5l
cmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZkNpcmNsZSBjb3B5V2l0aCh2b2lk
IEZ1bmN0aW9uKFNldE9mQ2lyY2xlKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkg
PT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNldE9mQ2lyY2xlKSkgYXMgU2V0T2ZDaXJjbGU7CgogICRwYi5C
dWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9Jbmxp
bmUnKQogIHN0YXRpYyBTZXRPZkNpcmNsZSBjcmVhdGUoKSA9PiBTZXRPZkNpcmNsZS5fKCk7CiAgU2V0
T2ZDaXJjbGUgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJM
aXN0PFNldE9mQ2lyY2xlPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZDaXJjbGU+
KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mQ2lyY2xl
IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4k
X2RlZmF1bHRGb3I8U2V0T2ZDaXJjbGU+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mQ2lyY2xlPyBfZGVm
YXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8Q2lyY2xlPiBnZXQg
ZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIENpcmNsZUFycmF5IGV4dGVuZHMgJHBiLkdlbmVy
YXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgQ2lyY2xlQXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JDAu
Q2lyY2xlPj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAo
ZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICBy
ZXR1cm4gJHJlc3VsdDsKICB9CiAgQ2lyY2xlQXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IENp
cmNsZUFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9u
UmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJn
ZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBDaXJjbGVBcnJheS5mcm9tSnNvbigkY29yZS5TdHJp
bmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZ
XSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVp
bGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdDaXJj
bGVBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/
ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPCQw
LkNpcmNsZT4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5Q
TSwgc3ViQnVpbGRlcjogJDAuQ2lyY2xlLmNyZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBm
YWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZp
Y2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5l
cmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4
dCBtYWpvciB2ZXJzaW9uJykKICBDaXJjbGVBcnJheSBjbG9uZSgpID0+IENpcmNsZUFycmF5KCkuLm1l
cmdlRnJvbU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2Fu
IGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRl
ZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVt
b3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIENpcmNsZUFycmF5IGNvcHlXaXRoKHZvaWQgRnVu
Y3Rpb24oQ2lyY2xlQXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1
cGRhdGVzKG1lc3NhZ2UgYXMgQ2lyY2xlQXJyYXkpKSBhcyBDaXJjbGVBcnJheTsKCiAgJHBiLkJ1aWxk
ZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScp
CiAgc3RhdGljIENpcmNsZUFycmF5IGNyZWF0ZSgpID0+IENpcmNsZUFycmF5Ll8oKTsKICBDaXJjbGVB
cnJheSBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8
Q2lyY2xlQXJyYXk+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxDaXJjbGVBcnJheT4oKTsK
ICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgQ2lyY2xlQXJyYXkgZ2V0
RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVm
YXVsdEZvcjxDaXJjbGVBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgQ2lyY2xlQXJyYXk/IF9kZWZhdWx0
SW5zdGFuY2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwkMC5DaXJjbGU+IGdldCBk
YXRhID0+ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZDaXJjbGVBcnJheSBleHRlbmRzICRwYi5H
ZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mQ2lyY2xlQXJyYXkoewogICAgJGNvcmUuSXRl
cmFibGU8Q2lyY2xlQXJyYXk+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUo
KTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsK
ICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZkNpcmNsZUFycmF5Ll8oKSA6IHN1cGVy
KCk7CiAgZmFjdG9yeSBTZXRPZkNpcmNsZUFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5p
bnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBU
WV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZkNpcmNs
ZUFycmF5LmZyb21Kc29uKCRjb3JlLlN0cmluZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCBy
KTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWlsZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1NldE9mQ2lyY2xlQXJyYXknLCBwYWNrYWdlOiBjb25zdCAkcGIu
UGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1w
dHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5wYzxDaXJjbGVBcnJheT4oMSwgX29taXRGaWVsZE5hbWVz
ID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3ViQnVpbGRlcjogQ2lyY2xlQXJyYXku
Y3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVj
YXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmlu
YXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFNldE9m
Q2lyY2xlQXJyYXkgY2xvbmUoKSA9PiBTZXRPZkNpcmNsZUFycmF5KCkuLm1lcmdlRnJvbU1lc3NhZ2Uo
dGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2Fu
dCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmlj
RXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1h
am9yIHZlcnNpb24nKQogIFNldE9mQ2lyY2xlQXJyYXkgY29weVdpdGgodm9pZCBGdW5jdGlvbihTZXRP
ZkNpcmNsZUFycmF5KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRl
cyhtZXNzYWdlIGFzIFNldE9mQ2lyY2xlQXJyYXkpKSBhcyBTZXRPZkNpcmNsZUFycmF5OwoKICAkcGIu
QnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgU2V0T2ZDaXJjbGVBcnJheSBjcmVhdGUoKSA9PiBTZXRPZkNpcmNsZUFycmF5
Ll8oKTsKICBTZXRPZkNpcmNsZUFycmF5IGNyZWF0ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsK
ICBzdGF0aWMgJHBiLlBiTGlzdDxTZXRPZkNpcmNsZUFycmF5PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRw
Yi5QYkxpc3Q8U2V0T2ZDaXJjbGVBcnJheT4oKTsKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgU2V0T2ZDaXJjbGVBcnJheSBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0
YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFNldE9mQ2lyY2xlQXJyYXk+
KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mQ2lyY2xlQXJyYXk/IF9kZWZhdWx0SW5zdGFuY2U7CgogIEAk
cGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDxDaXJjbGVBcnJheT4gZ2V0IGRhdGEgPT4gJF9nZXRM
aXN0KDApOwp9CgpjbGFzcyBTdHJ1Y3QgZXh0ZW5kcyAkcGIuR2VuZXJhdGVkTWVzc2FnZSB7CiAgZmFj
dG9yeSBTdHJ1Y3QoewogICAgJDEuU3RydWN0PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQg
PSBjcmVhdGUoKTsKICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhID0gZGF0
YTsKICAgIH0KICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTdHJ1Y3QuXygpIDogc3VwZXIoKTsKICBm
YWN0b3J5IFN0cnVjdC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4u
bWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU3RydWN0LmZyb21Kc29uKCRjb3JlLlN0cmlu
ZyBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFld
KSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tSnNvbihpLCByKTsKCiAgc3RhdGljIGZpbmFsICRwYi5CdWls
ZGVySW5mbyBfaSA9ICRwYi5CdWlsZGVySW5mbyhfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ1N0cnVj
dCcsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDog
J3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLmFPTTwkMS5TdHJ1
Y3Q+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCBzdWJCdWlsZGVyOiAkMS5TdHJ1Y3Qu
Y3JlYXRlKQogICAgLi5oYXNSZXF1aXJlZEZpZWxkcyA9IGZhbHNlCiAgOwoKICBAJGNvcmUuRGVwcmVj
YXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmlu
YXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLmRlZXBDb3B5XSBp
bnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IG1ham9yIHZlcnNpb24nKQogIFN0cnVj
dCBjbG9uZSgpID0+IFN0cnVjdCgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXBy
ZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBi
aW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0g
aW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTdHJ1
Y3QgY29weVdpdGgodm9pZCBGdW5jdGlvbihTdHJ1Y3QpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRo
KChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU3RydWN0KSkgYXMgU3RydWN0OwoKICAkcGIu
QnVpbGRlckluZm8gZ2V0IGluZm9fID0+IF9pOwoKICBAJGNvcmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5s
aW5lJykKICBzdGF0aWMgU3RydWN0IGNyZWF0ZSgpID0+IFN0cnVjdC5fKCk7CiAgU3RydWN0IGNyZWF0
ZUVtcHR5SW5zdGFuY2UoKSA9PiBjcmVhdGUoKTsKICBzdGF0aWMgJHBiLlBiTGlzdDxTdHJ1Y3Q+IGNy
ZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTdHJ1Y3Q+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFy
dDJqczpub0lubGluZScpCiAgc3RhdGljIFN0cnVjdCBnZXREZWZhdWx0KCkgPT4gX2RlZmF1bHRJbnN0
YW5jZSA/Pz0gJHBiLkdlbmVyYXRlZE1lc3NhZ2UuJF9kZWZhdWx0Rm9yPFN0cnVjdD4oY3JlYXRlKTsK
ICBzdGF0aWMgU3RydWN0PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICQx
LlN0cnVjdCBnZXQgZGF0YSA9PiAkX2dldE4oMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICBzZXQgZGF0
YSgkMS5TdHJ1Y3QgdikgeyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNv
cmUuYm9vbCBoYXNEYXRhKCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNs
ZWFyRGF0YSgpID0+IGNsZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMS5TdHJ1Y3Qg
ZW5zdXJlRGF0YSgpID0+ICRfZW5zdXJlKDApOwp9CgpjbGFzcyBTZXRPZlN0cnVjdCBleHRlbmRzICRw
Yi5HZW5lcmF0ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mU3RydWN0KHsKICAgICRjb3JlLkl0ZXJh
YmxlPFN0cnVjdD4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAg
aWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQog
ICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mU3RydWN0Ll8oKSA6IHN1cGVyKCk7CiAgZmFjdG9y
eSBTZXRPZlN0cnVjdC5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVu
c2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4u
bWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZTdHJ1Y3QuZnJvbUpzb24oJGNvcmUu
U3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5F
TVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBi
LkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAn
U2V0T2ZTdHJ1Y3QnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFt
ZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5w
YzxTdHJ1Y3Q+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUu
UE0sIHN1YkJ1aWxkZXI6IFN0cnVjdC5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFs
c2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNh
bnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJp
Y0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQg
bWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZTdHJ1Y3QgY2xvbmUoKSA9PiBTZXRPZlN0cnVjdCgpLi5tZXJn
ZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBh
ZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRN
ZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92
ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlN0cnVjdCBjb3B5V2l0aCh2b2lkIEZ1bmN0
aW9uKFNldE9mU3RydWN0KSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBk
YXRlcyhtZXNzYWdlIGFzIFNldE9mU3RydWN0KSkgYXMgU2V0T2ZTdHJ1Y3Q7CgogICRwYi5CdWlsZGVy
SW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQog
IHN0YXRpYyBTZXRPZlN0cnVjdCBjcmVhdGUoKSA9PiBTZXRPZlN0cnVjdC5fKCk7CiAgU2V0T2ZTdHJ1
Y3QgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNl
dE9mU3RydWN0PiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U2V0T2ZTdHJ1Y3Q+KCk7CiAg
QCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNldE9mU3RydWN0IGdldERl
ZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1
bHRGb3I8U2V0T2ZTdHJ1Y3Q+KGNyZWF0ZSk7CiAgc3RhdGljIFNldE9mU3RydWN0PyBfZGVmYXVsdElu
c3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8U3RydWN0PiBnZXQgZGF0YSA9
PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFN0cnVjdEFycmF5IGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1l
c3NhZ2UgewogIGZhY3RvcnkgU3RydWN0QXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8JDEuU3RydWN0
Pj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7CiAgICBpZiAoZGF0YSAh
PSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAgICB9CiAgICByZXR1cm4g
JHJlc3VsdDsKICB9CiAgU3RydWN0QXJyYXkuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFN0cnVjdEFy
cmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21C
dWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTdHJ1Y3RBcnJheS5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwg
WyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4g
Y3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlcklu
Zm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdTdHJ1Y3RBcnJh
eScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDog
J3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPCQxLlN0cnVj
dD4oMSwgX29taXRGaWVsZE5hbWVzID8gJycgOiAnZGF0YScsICRwYi5QYkZpZWxkVHlwZS5QTSwgc3Vi
QnVpbGRlcjogJDEuU3RydWN0LmNyZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQog
IDsKCiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBv
dmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0
ZW5zaW9ucy5kZWVwQ29weV0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpv
ciB2ZXJzaW9uJykKICBTdHJ1Y3RBcnJheSBjbG9uZSgpID0+IFN0cnVjdEFycmF5KCkuLm1lcmdlRnJv
bU1lc3NhZ2UodGhpcyk7CiAgQCRjb3JlLkRlcHJlY2F0ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBz
aWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFyeS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3Nh
Z2VHZW5lcmljRXh0ZW5zaW9ucy5yZWJ1aWxkXSBpbnN0ZWFkLiAnCiAgJ1dpbGwgYmUgcmVtb3ZlZCBp
biBuZXh0IG1ham9yIHZlcnNpb24nKQogIFN0cnVjdEFycmF5IGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24o
U3RydWN0QXJyYXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVz
KG1lc3NhZ2UgYXMgU3RydWN0QXJyYXkpKSBhcyBTdHJ1Y3RBcnJheTsKCiAgJHBiLkJ1aWxkZXJJbmZv
IGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3Rh
dGljIFN0cnVjdEFycmF5IGNyZWF0ZSgpID0+IFN0cnVjdEFycmF5Ll8oKTsKICBTdHJ1Y3RBcnJheSBj
cmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAgc3RhdGljICRwYi5QYkxpc3Q8U3RydWN0
QXJyYXk+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTdHJ1Y3RBcnJheT4oKTsKICBAJGNv
cmUucHJhZ21hKCdkYXJ0MmpzOm5vSW5saW5lJykKICBzdGF0aWMgU3RydWN0QXJyYXkgZ2V0RGVmYXVs
dCgpID0+IF9kZWZhdWx0SW5zdGFuY2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZv
cjxTdHJ1Y3RBcnJheT4oY3JlYXRlKTsKICBzdGF0aWMgU3RydWN0QXJyYXk/IF9kZWZhdWx0SW5zdGFu
Y2U7CgogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuTGlzdDwkMS5TdHJ1Y3Q+IGdldCBkYXRhID0+
ICRfZ2V0TGlzdCgwKTsKfQoKY2xhc3MgU2V0T2ZTdHJ1Y3RBcnJheSBleHRlbmRzICRwYi5HZW5lcmF0
ZWRNZXNzYWdlIHsKICBmYWN0b3J5IFNldE9mU3RydWN0QXJyYXkoewogICAgJGNvcmUuSXRlcmFibGU8
U3RydWN0QXJyYXk+PyBkYXRhLAogIH0pIHsKICAgIGZpbmFsICRyZXN1bHQgPSBjcmVhdGUoKTsKICAg
IGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgJHJlc3VsdC5kYXRhLmFkZEFsbChkYXRhKTsKICAgIH0K
ICAgIHJldHVybiAkcmVzdWx0OwogIH0KICBTZXRPZlN0cnVjdEFycmF5Ll8oKSA6IHN1cGVyKCk7CiAg
ZmFjdG9yeSBTZXRPZlN0cnVjdEFycmF5LmZyb21CdWZmZXIoJGNvcmUuTGlzdDwkY29yZS5pbnQ+IGks
IFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+
IGNyZWF0ZSgpLi5tZXJnZUZyb21CdWZmZXIoaSwgcik7CiAgZmFjdG9yeSBTZXRPZlN0cnVjdEFycmF5
LmZybw==
bUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNp
b25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0
aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5h
bWVzID8gJycgOiAnU2V0T2ZTdHJ1Y3RBcnJheScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFt
ZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNl
OiBjcmVhdGUpCiAgICAuLnBjPFN0cnVjdEFycmF5PigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdk
YXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBTdHJ1Y3RBcnJheS5jcmVhdGUpCiAg
ICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdV
c2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAn
VXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcK
ICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZTdHJ1Y3RBcnJh
eSBjbG9uZSgpID0+IFNldE9mU3RydWN0QXJyYXkoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBA
JGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFk
IHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25z
LnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lv
bicpCiAgU2V0T2ZTdHJ1Y3RBcnJheSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mU3RydWN0QXJy
YXkpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2Ug
YXMgU2V0T2ZTdHJ1Y3RBcnJheSkpIGFzIFNldE9mU3RydWN0QXJyYXk7CgogICRwYi5CdWlsZGVySW5m
byBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0
YXRpYyBTZXRPZlN0cnVjdEFycmF5IGNyZWF0ZSgpID0+IFNldE9mU3RydWN0QXJyYXkuXygpOwogIFNl
dE9mU3RydWN0QXJyYXkgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAk
cGIuUGJMaXN0PFNldE9mU3RydWN0QXJyYXk+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxT
ZXRPZlN0cnVjdEFycmF5PigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0
YXRpYyBTZXRPZlN0cnVjdEFycmF5IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAk
cGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0T2ZTdHJ1Y3RBcnJheT4oY3JlYXRlKTsK
ICBzdGF0aWMgU2V0T2ZTdHJ1Y3RBcnJheT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1i
ZXIoMSkKICAkY29yZS5MaXN0PFN0cnVjdEFycmF5PiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0K
CmNsYXNzIFVJbnQzMlJhbmdlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3Rvcnkg
VUludDMyUmFuZ2UoewogICAgJDAuVUludDMyUmFuZ2U/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJl
c3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEg
PSBkYXRhOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFVJbnQzMlJhbmdlLl8oKSA6IHN1
cGVyKCk7CiAgZmFjdG9yeSBVSW50MzJSYW5nZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50
PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFld
KSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgVUludDMyUmFuZ2Uu
ZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRl
bnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBz
dGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2Fn
ZU5hbWVzID8gJycgOiAnVUludDMyUmFuZ2UnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUo
X29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTog
Y3JlYXRlKQogICAgLi5hT008JDAuVUludDMyUmFuZ2U+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDog
J2RhdGEnLCBzdWJCdWlsZGVyOiAkMC5VSW50MzJSYW5nZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVk
RmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBh
ZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRN
ZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1v
dmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgVUludDMyUmFuZ2UgY2xvbmUoKSA9PiBVSW50MzJS
YW5nZSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2lu
ZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNl
IFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdX
aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBVSW50MzJSYW5nZSBjb3B5V2l0
aCh2b2lkIEZ1bmN0aW9uKFVJbnQzMlJhbmdlKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVz
c2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFVJbnQzMlJhbmdlKSkgYXMgVUludDMyUmFuZ2U7Cgog
ICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6
bm9JbmxpbmUnKQogIHN0YXRpYyBVSW50MzJSYW5nZSBjcmVhdGUoKSA9PiBVSW50MzJSYW5nZS5fKCk7
CiAgVUludDMyUmFuZ2UgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAk
cGIuUGJMaXN0PFVJbnQzMlJhbmdlPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8VUludDMy
UmFuZ2U+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFVJbnQz
MlJhbmdlIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVz
c2FnZS4kX2RlZmF1bHRGb3I8VUludDMyUmFuZ2U+KGNyZWF0ZSk7CiAgc3RhdGljIFVJbnQzMlJhbmdl
PyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICQwLlVJbnQzMlJhbmdlIGdl
dCBkYXRhID0+ICRfZ2V0TigwKTsKICBAJHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRhKCQwLlVJbnQz
MlJhbmdlIHYpIHsgc2V0RmllbGQoMSwgdik7IH0KICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLmJv
b2wgaGFzRGF0YSgpID0+ICRfaGFzKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgdm9pZCBjbGVhckRh
dGEoKSA9PiBjbGVhckZpZWxkKDEpOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJDAuVUludDMyUmFuZ2Ug
ZW5zdXJlRGF0YSgpID0+ICRfZW5zdXJlKDApOwp9CgpjbGFzcyBTZXRPZlVJbnQzMlJhbmdlIGV4dGVu
ZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZVSW50MzJSYW5nZSh7CiAgICAk
Y29yZS5JdGVyYWJsZTxVSW50MzJSYW5nZT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9
IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxs
KGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNldE9mVUludDMyUmFuZ2UuXygp
IDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mVUludDMyUmFuZ2UuZnJvbUJ1ZmZlcigkY29yZS5MaXN0
PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNl
dE9mVUludDMyUmFuZ2UuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0
cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21K
c29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJ
bmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZVSW50MzJSYW5nZScsIHBhY2thZ2U6IGNv
bnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBj
cmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPFVJbnQzMlJhbmdlPigxLCBfb21pdEZp
ZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBVSW50
MzJSYW5nZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29y
ZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8g
eW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVl
cENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicp
CiAgU2V0T2ZVSW50MzJSYW5nZSBjbG9uZSgpID0+IFNldE9mVUludDMyUmFuZ2UoKS4ubWVyZ2VGcm9t
TWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNp
Z25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2Fn
ZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGlu
IG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZVSW50MzJSYW5nZSBjb3B5V2l0aCh2b2lkIEZ1bmN0
aW9uKFNldE9mVUludDMyUmFuZ2UpIHVwZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9
PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZVSW50MzJSYW5nZSkpIGFzIFNldE9mVUludDMyUmFuZ2U7
CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQy
anM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlVJbnQzMlJhbmdlIGNyZWF0ZSgpID0+IFNldE9mVUlu
dDMyUmFuZ2UuXygpOwogIFNldE9mVUludDMyUmFuZ2UgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNy
ZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNldE9mVUludDMyUmFuZ2U+IGNyZWF0ZVJlcGVhdGVk
KCkgPT4gJHBiLlBiTGlzdDxTZXRPZlVJbnQzMlJhbmdlPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQy
anM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlVJbnQzMlJhbmdlIGdldERlZmF1bHQoKSA9PiBfZGVm
YXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0T2ZVSW50
MzJSYW5nZT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZVSW50MzJSYW5nZT8gX2RlZmF1bHRJbnN0YW5j
ZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PFVJbnQzMlJhbmdlPiBnZXQgZGF0YSA9
PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFNJbnQzMlJhbmdlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1l
c3NhZ2UgewogIGZhY3RvcnkgU0ludDMyUmFuZ2UoewogICAgJDAuU0ludDMyUmFuZ2U/IGRhdGEsCiAg
fSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewog
ICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNJ
bnQzMlJhbmdlLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBTSW50MzJSYW5nZS5mcm9tQnVmZmVyKCRj
b3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5z
aW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZh
Y3RvcnkgU0ludDMyUmFuZ2UuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVn
aXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZy
b21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxk
ZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU0ludDMyUmFuZ2UnLCBwYWNrYWdlOiBjb25z
dCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3Jl
YXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5hT008JDAuU0ludDMyUmFuZ2U+KDEsIF9vbWl0
RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCBzdWJCdWlsZGVyOiAkMC5TSW50MzJSYW5nZS5jcmVhdGUp
CiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAog
ICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcK
ICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQu
ICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU0ludDMyUmFuZ2Ug
Y2xvbmUoKSA9PiBTSW50MzJSYW5nZSgpLi5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5E
ZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91
ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWls
ZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBT
SW50MzJSYW5nZSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNJbnQzMlJhbmdlKSB1cGRhdGVzKSA9PiBz
dXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNJbnQzMlJhbmdlKSkg
YXMgU0ludDMyUmFuZ2U7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29y
ZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTSW50MzJSYW5nZSBjcmVhdGUoKSA9
PiBTSW50MzJSYW5nZS5fKCk7CiAgU0ludDMyUmFuZ2UgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNy
ZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNJbnQzMlJhbmdlPiBjcmVhdGVSZXBlYXRlZCgpID0+
ICRwYi5QYkxpc3Q8U0ludDMyUmFuZ2U+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIFNJbnQzMlJhbmdlIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/
PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U0ludDMyUmFuZ2U+KGNyZWF0ZSk7CiAg
c3RhdGljIFNJbnQzMlJhbmdlPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQog
ICQwLlNJbnQzMlJhbmdlIGdldCBkYXRhID0+ICRfZ2V0TigwKTsKICBAJHBiLlRhZ051bWJlcigxKQog
IHNldCBkYXRhKCQwLlNJbnQzMlJhbmdlIHYpIHsgc2V0RmllbGQoMSwgdik7IH0KICBAJHBiLlRhZ051
bWJlcigxKQogICRjb3JlLmJvb2wgaGFzRGF0YSgpID0+ICRfaGFzKDApOwogIEAkcGIuVGFnTnVtYmVy
KDEpCiAgdm9pZCBjbGVhckRhdGEoKSA9PiBjbGVhckZpZWxkKDEpOwogIEAkcGIuVGFnTnVtYmVyKDEp
CiAgJDAuU0ludDMyUmFuZ2UgZW5zdXJlRGF0YSgpID0+ICRfZW5zdXJlKDApOwp9CgpjbGFzcyBTZXRP
ZlNJbnQzMlJhbmdlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU2V0T2ZT
SW50MzJSYW5nZSh7CiAgICAkY29yZS5JdGVyYWJsZTxTSW50MzJSYW5nZT4/IGRhdGEsCiAgfSkgewog
ICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAk
cmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNl
dE9mU0ludDMyUmFuZ2UuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNldE9mU0ludDMyUmFuZ2UuZnJv
bUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0g
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUJ1ZmZlcihp
LCByKTsKICBmYWN0b3J5IFNldE9mU0ludDMyUmFuZ2UuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGksIFsk
cGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+IGNy
ZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJbmZv
IF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnU2V0T2ZTSW50MzJS
YW5nZScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21pdE1lc3NhZ2VOYW1lcyA/ICcn
IDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVhdGUpCiAgICAuLnBjPFNJbnQz
MlJhbmdlPigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywgJHBiLlBiRmllbGRUeXBlLlBN
LCBzdWJCdWlsZGVyOiBTSW50MzJSYW5nZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0g
ZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlm
aWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2Vu
ZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5l
eHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZTSW50MzJSYW5nZSBjbG9uZSgpID0+IFNldE9mU0ludDMy
UmFuZ2UoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUuRGVwcmVjYXRlZCgKICAnVXNp
bmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlvdXIgYmluYXJ5LiAnCiAgJ1Vz
ZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVpbGRdIGluc3RlYWQuICcKICAn
V2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZTSW50MzJSYW5nZSBj
b3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mU0ludDMyUmFuZ2UpIHVwZGF0ZXMpID0+IHN1cGVyLmNv
cHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0T2ZTSW50MzJSYW5nZSkpIGFz
IFNldE9mU0ludDMyUmFuZ2U7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAk
Y29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlNJbnQzMlJhbmdlIGNy
ZWF0ZSgpID0+IFNldE9mU0ludDMyUmFuZ2UuXygpOwogIFNldE9mU0ludDMyUmFuZ2UgY3JlYXRlRW1w
dHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFNldE9mU0ludDMyUmFu
Z2U+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZlNJbnQzMlJhbmdlPigpOwogIEAk
Y29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBTZXRPZlNJbnQzMlJhbmdlIGdl
dERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2Rl
ZmF1bHRGb3I8U2V0T2ZTSW50MzJSYW5nZT4oY3JlYXRlKTsKICBzdGF0aWMgU2V0T2ZTSW50MzJSYW5n
ZT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkY29yZS5MaXN0PFNJbnQz
MlJhbmdlPiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNzIFVJbnQ2NFJhbmdlIGV4dGVu
ZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgVUludDY0UmFuZ2UoewogICAgJDAuVUlu
dDY0UmFuZ2U/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYg
KGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRhOwogICAgfQogICAgcmV0dXJu
ICRyZXN1bHQ7CiAgfQogIFVJbnQ2NFJhbmdlLl8oKSA6IHN1cGVyKCk7CiAgZmFjdG9yeSBVSW50NjRS
YW5nZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lz
dHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9t
QnVmZmVyKGksIHIpOwogIGZhY3RvcnkgVUludDY0UmFuZ2UuZnJvbUpzb24oJGNvcmUuU3RyaW5nIGks
IFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdpc3RyeS5FTVBUWV0pID0+
IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmluYWwgJHBiLkJ1aWxkZXJJ
bmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAnVUludDY0UmFu
Z2UnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRNZXNzYWdlTmFtZXMgPyAnJyA6
ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRlKQogICAgLi5hT008JDAuVUlu
dDY0UmFuZ2U+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEnLCBzdWJCdWlsZGVyOiAkMC5V
SW50NjRSYW5nZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAk
Y29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQg
dG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMu
ZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lv
bicpCiAgVUludDY0UmFuZ2UgY2xvbmUoKSA9PiBVSW50NjRSYW5nZSgpLi5tZXJnZUZyb21NZXNzYWdl
KHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNh
bnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJp
Y0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBt
YWpvciB2ZXJzaW9uJykKICBVSW50NjRSYW5nZSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFVJbnQ2NFJh
bmdlKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkgPT4gdXBkYXRlcyhtZXNzYWdl
IGFzIFVJbnQ2NFJhbmdlKSkgYXMgVUludDY0UmFuZ2U7CgogICRwYi5CdWlsZGVySW5mbyBnZXQgaW5m
b18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBVSW50
NjRSYW5nZSBjcmVhdGUoKSA9PiBVSW50NjRSYW5nZS5fKCk7CiAgVUludDY0UmFuZ2UgY3JlYXRlRW1w
dHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJMaXN0PFVJbnQ2NFJhbmdlPiBj
cmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8VUludDY0UmFuZ2U+KCk7CiAgQCRjb3JlLnByYWdt
YSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFVJbnQ2NFJhbmdlIGdldERlZmF1bHQoKSA9PiBf
ZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8VUludDY0
UmFuZ2U+KGNyZWF0ZSk7CiAgc3RhdGljIFVJbnQ2NFJhbmdlPyBfZGVmYXVsdEluc3RhbmNlOwoKICBA
JHBiLlRhZ051bWJlcigxKQogICQwLlVJbnQ2NFJhbmdlIGdldCBkYXRhID0+ICRfZ2V0TigwKTsKICBA
JHBiLlRhZ051bWJlcigxKQogIHNldCBkYXRhKCQwLlVJbnQ2NFJhbmdlIHYpIHsgc2V0RmllbGQoMSwg
dik7IH0KICBAJHBiLlRhZ051bWJlcigxKQogICRjb3JlLmJvb2wgaGFzRGF0YSgpID0+ICRfaGFzKDAp
OwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgdm9pZCBjbGVhckRhdGEoKSA9PiBjbGVhckZpZWxkKDEpOwog
IEAkcGIuVGFnTnVtYmVyKDEpCiAgJDAuVUludDY0UmFuZ2UgZW5zdXJlRGF0YSgpID0+ICRfZW5zdXJl
KDApOwp9CgpjbGFzcyBTZXRPZlVJbnQ2NFJhbmdlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2Ug
ewogIGZhY3RvcnkgU2V0T2ZVSW50NjRSYW5nZSh7CiAgICAkY29yZS5JdGVyYWJsZTxVSW50NjRSYW5n
ZT4/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEg
IT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEuYWRkQWxsKGRhdGEpOwogICAgfQogICAgcmV0dXJu
ICRyZXN1bHQ7CiAgfQogIFNldE9mVUludDY0UmFuZ2UuXygpIDogc3VwZXIoKTsKICBmYWN0b3J5IFNl
dE9mVUludDY0UmFuZ2UuZnJvbUJ1ZmZlcigkY29yZS5MaXN0PCRjb3JlLmludD4gaSwgWyRwYi5FeHRl
bnNpb25SZWdpc3RyeSByID0gJHBiLkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCku
Lm1lcmdlRnJvbUJ1ZmZlcihpLCByKTsKICBmYWN0b3J5IFNldE9mVUludDY0UmFuZ2UuZnJvbUpzb24o
JGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25SZWdp
c3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMgZmlu
YWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVzID8g
JycgOiAnU2V0T2ZVSW50NjRSYW5nZScsIHBhY2thZ2U6IGNvbnN0ICRwYi5QYWNrYWdlTmFtZShfb21p
dE1lc3NhZ2VOYW1lcyA/ICcnIDogJ3Jlc3BvbnNlcycpLCBjcmVhdGVFbXB0eUluc3RhbmNlOiBjcmVh
dGUpCiAgICAuLnBjPFVJbnQ2NFJhbmdlPigxLCBfb21pdEZpZWxkTmFtZXMgPyAnJyA6ICdkYXRhJywg
JHBiLlBiRmllbGRUeXBlLlBNLCBzdWJCdWlsZGVyOiBVSW50NjRSYW5nZS5jcmVhdGUpCiAgICAuLmhh
c1JlcXVpcmVkRmllbGRzID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0
aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtH
ZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2ls
bCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU2V0T2ZVSW50NjRSYW5nZSBjbG9u
ZSgpID0+IFNldE9mVUludDY0UmFuZ2UoKS4ubWVyZ2VGcm9tTWVzc2FnZSh0aGlzKTsKICBAJGNvcmUu
RGVwcmVjYXRlZCgKICAnVXNpbmcgdGhpcyBjYW4gYWRkIHNpZ25pZmljYW50IG92ZXJoZWFkIHRvIHlv
dXIgYmluYXJ5LiAnCiAgJ1VzZSBbR2VuZXJhdGVkTWVzc2FnZUdlbmVyaWNFeHRlbnNpb25zLnJlYnVp
bGRdIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbicpCiAg
U2V0T2ZVSW50NjRSYW5nZSBjb3B5V2l0aCh2b2lkIEZ1bmN0aW9uKFNldE9mVUludDY0UmFuZ2UpIHVw
ZGF0ZXMpID0+IHN1cGVyLmNvcHlXaXRoKChtZXNzYWdlKSA9PiB1cGRhdGVzKG1lc3NhZ2UgYXMgU2V0
T2ZVSW50NjRSYW5nZSkpIGFzIFNldE9mVUludDY0UmFuZ2U7CgogICRwYi5CdWlsZGVySW5mbyBnZXQg
aW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBT
ZXRPZlVJbnQ2NFJhbmdlIGNyZWF0ZSgpID0+IFNldE9mVUludDY0UmFuZ2UuXygpOwogIFNldE9mVUlu
dDY0UmFuZ2UgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJM
aXN0PFNldE9mVUludDY0UmFuZ2U+IGNyZWF0ZVJlcGVhdGVkKCkgPT4gJHBiLlBiTGlzdDxTZXRPZlVJ
bnQ2NFJhbmdlPigpOwogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9JbmxpbmUnKQogIHN0YXRpYyBT
ZXRPZlVJbnQ2NFJhbmdlIGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2Vu
ZXJhdGVkTWVzc2FnZS4kX2RlZmF1bHRGb3I8U2V0T2ZVSW50NjRSYW5nZT4oY3JlYXRlKTsKICBzdGF0
aWMgU2V0T2ZVSW50NjRSYW5nZT8gX2RlZmF1bHRJbnN0YW5jZTsKCiAgQCRwYi5UYWdOdW1iZXIoMSkK
ICAkY29yZS5MaXN0PFVJbnQ2NFJhbmdlPiBnZXQgZGF0YSA9PiAkX2dldExpc3QoMCk7Cn0KCmNsYXNz
IFNJbnQ2NFJhbmdlIGV4dGVuZHMgJHBiLkdlbmVyYXRlZE1lc3NhZ2UgewogIGZhY3RvcnkgU0ludDY0
UmFuZ2UoewogICAgJDAuU0ludDY0UmFuZ2U/IGRhdGEsCiAgfSkgewogICAgZmluYWwgJHJlc3VsdCA9
IGNyZWF0ZSgpOwogICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAkcmVzdWx0LmRhdGEgPSBkYXRh
OwogICAgfQogICAgcmV0dXJuICRyZXN1bHQ7CiAgfQogIFNJbnQ2NFJhbmdlLl8oKSA6IHN1cGVyKCk7
CiAgZmFjdG9yeSBTSW50NjRSYW5nZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50PiBpLCBb
JHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFldKSA9PiBj
cmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU0ludDY0UmFuZ2UuZnJvbUpz
b24oJGNvcmUuU3RyaW5nIGksIFskcGIuRXh0ZW5zaW9uUmVnaXN0cnkgciA9ICRwYi5FeHRlbnNpb25S
ZWdpc3RyeS5FTVBUWV0pID0+IGNyZWF0ZSgpLi5tZXJnZUZyb21Kc29uKGksIHIpOwoKICBzdGF0aWMg
ZmluYWwgJHBiLkJ1aWxkZXJJbmZvIF9pID0gJHBiLkJ1aWxkZXJJbmZvKF9vbWl0TWVzc2FnZU5hbWVz
ID8gJycgOiAnU0ludDY0UmFuZ2UnLCBwYWNrYWdlOiBjb25zdCAkcGIuUGFja2FnZU5hbWUoX29taXRN
ZXNzYWdlTmFtZXMgPyAnJyA6ICdyZXNwb25zZXMnKSwgY3JlYXRlRW1wdHlJbnN0YW5jZTogY3JlYXRl
KQogICAgLi5hT008JDAuU0ludDY0UmFuZ2U+KDEsIF9vbWl0RmllbGROYW1lcyA/ICcnIDogJ2RhdGEn
LCBzdWJCdWlsZGVyOiAkMC5TSW50NjRSYW5nZS5jcmVhdGUpCiAgICAuLmhhc1JlcXVpcmVkRmllbGRz
ID0gZmFsc2UKICA7CgogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2ln
bmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdl
R2VuZXJpY0V4dGVuc2lvbnMuZGVlcENvcHldIGluc3RlYWQuICcKICAnV2lsbCBiZSByZW1vdmVkIGlu
IG5leHQgbWFqb3IgdmVyc2lvbicpCiAgU0ludDY0UmFuZ2UgY2xvbmUoKSA9PiBTSW50NjRSYW5nZSgp
Li5tZXJnZUZyb21NZXNzYWdlKHRoaXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlz
IGNhbiBhZGQgc2lnbmlmaWNhbnQgb3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5l
cmF0ZWRNZXNzYWdlR2VuZXJpY0V4dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJl
IHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTSW50NjRSYW5nZSBjb3B5V2l0aCh2b2lk
IEZ1bmN0aW9uKFNJbnQ2NFJhbmdlKSB1cGRhdGVzKSA9PiBzdXBlci5jb3B5V2l0aCgobWVzc2FnZSkg
PT4gdXBkYXRlcyhtZXNzYWdlIGFzIFNJbnQ2NFJhbmdlKSkgYXMgU0ludDY0UmFuZ2U7CgogICRwYi5C
dWlsZGVySW5mbyBnZXQgaW5mb18gPT4gX2k7CgogIEAkY29yZS5wcmFnbWEoJ2RhcnQyanM6bm9Jbmxp
bmUnKQogIHN0YXRpYyBTSW50NjRSYW5nZSBjcmVhdGUoKSA9PiBTSW50NjRSYW5nZS5fKCk7CiAgU0lu
dDY0UmFuZ2UgY3JlYXRlRW1wdHlJbnN0YW5jZSgpID0+IGNyZWF0ZSgpOwogIHN0YXRpYyAkcGIuUGJM
aXN0PFNJbnQ2NFJhbmdlPiBjcmVhdGVSZXBlYXRlZCgpID0+ICRwYi5QYkxpc3Q8U0ludDY0UmFuZ2U+
KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGluZScpCiAgc3RhdGljIFNJbnQ2NFJhbmdl
IGdldERlZmF1bHQoKSA9PiBfZGVmYXVsdEluc3RhbmNlID8/PSAkcGIuR2VuZXJhdGVkTWVzc2FnZS4k
X2RlZmF1bHRGb3I8U0ludDY0UmFuZ2U+KGNyZWF0ZSk7CiAgc3RhdGljIFNJbnQ2NFJhbmdlPyBfZGVm
YXVsdEluc3RhbmNlOwoKICBAJHBiLlRhZ051bWJlcigxKQogICQwLlNJbnQ2NFJhbmdlIGdldCBkYXRh
ID0+IA==
JF9nZXROKDApOwogIEAkcGIuVGFnTnVtYmVyKDEpCiAgc2V0IGRhdGEoJDAuU0ludDY0UmFuZ2Ugdikg
eyBzZXRGaWVsZCgxLCB2KTsgfQogIEAkcGIuVGFnTnVtYmVyKDEpCiAgJGNvcmUuYm9vbCBoYXNEYXRh
KCkgPT4gJF9oYXMoMCk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICB2b2lkIGNsZWFyRGF0YSgpID0+IGNs
ZWFyRmllbGQoMSk7CiAgQCRwYi5UYWdOdW1iZXIoMSkKICAkMC5TSW50NjRSYW5nZSBlbnN1cmVEYXRh
KCkgPT4gJF9lbnN1cmUoMCk7Cn0KCmNsYXNzIFNldE9mU0ludDY0UmFuZ2UgZXh0ZW5kcyAkcGIuR2Vu
ZXJhdGVkTWVzc2FnZSB7CiAgZmFjdG9yeSBTZXRPZlNJbnQ2NFJhbmdlKHsKICAgICRjb3JlLkl0ZXJh
YmxlPFNJbnQ2NFJhbmdlPj8gZGF0YSwKICB9KSB7CiAgICBmaW5hbCAkcmVzdWx0ID0gY3JlYXRlKCk7
CiAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICRyZXN1bHQuZGF0YS5hZGRBbGwoZGF0YSk7CiAg
ICB9CiAgICByZXR1cm4gJHJlc3VsdDsKICB9CiAgU2V0T2ZTSW50NjRSYW5nZS5fKCkgOiBzdXBlcigp
OwogIGZhY3RvcnkgU2V0T2ZTSW50NjRSYW5nZS5mcm9tQnVmZmVyKCRjb3JlLkxpc3Q8JGNvcmUuaW50
PiBpLCBbJHBiLkV4dGVuc2lvblJlZ2lzdHJ5IHIgPSAkcGIuRXh0ZW5zaW9uUmVnaXN0cnkuRU1QVFld
KSA9PiBjcmVhdGUoKS4ubWVyZ2VGcm9tQnVmZmVyKGksIHIpOwogIGZhY3RvcnkgU2V0T2ZTSW50NjRS
YW5nZS5mcm9tSnNvbigkY29yZS5TdHJpbmcgaSwgWyRwYi5FeHRlbnNpb25SZWdpc3RyeSByID0gJHBi
LkV4dGVuc2lvblJlZ2lzdHJ5LkVNUFRZXSkgPT4gY3JlYXRlKCkuLm1lcmdlRnJvbUpzb24oaSwgcik7
CgogIHN0YXRpYyBmaW5hbCAkcGIuQnVpbGRlckluZm8gX2kgPSAkcGIuQnVpbGRlckluZm8oX29taXRN
ZXNzYWdlTmFtZXMgPyAnJyA6ICdTZXRPZlNJbnQ2NFJhbmdlJywgcGFja2FnZTogY29uc3QgJHBiLlBh
Y2thZ2VOYW1lKF9vbWl0TWVzc2FnZU5hbWVzID8gJycgOiAncmVzcG9uc2VzJyksIGNyZWF0ZUVtcHR5
SW5zdGFuY2U6IGNyZWF0ZSkKICAgIC4ucGM8U0ludDY0UmFuZ2U+KDEsIF9vbWl0RmllbGROYW1lcyA/
ICcnIDogJ2RhdGEnLCAkcGIuUGJGaWVsZFR5cGUuUE0sIHN1YkJ1aWxkZXI6IFNJbnQ2NFJhbmdlLmNy
ZWF0ZSkKICAgIC4uaGFzUmVxdWlyZWRGaWVsZHMgPSBmYWxzZQogIDsKCiAgQCRjb3JlLkRlcHJlY2F0
ZWQoCiAgJ1VzaW5nIHRoaXMgY2FuIGFkZCBzaWduaWZpY2FudCBvdmVyaGVhZCB0byB5b3VyIGJpbmFy
eS4gJwogICdVc2UgW0dlbmVyYXRlZE1lc3NhZ2VHZW5lcmljRXh0ZW5zaW9ucy5kZWVwQ29weV0gaW5z
dGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uJykKICBTZXRPZlNJ
bnQ2NFJhbmdlIGNsb25lKCkgPT4gU2V0T2ZTSW50NjRSYW5nZSgpLi5tZXJnZUZyb21NZXNzYWdlKHRo
aXMpOwogIEAkY29yZS5EZXByZWNhdGVkKAogICdVc2luZyB0aGlzIGNhbiBhZGQgc2lnbmlmaWNhbnQg
b3ZlcmhlYWQgdG8geW91ciBiaW5hcnkuICcKICAnVXNlIFtHZW5lcmF0ZWRNZXNzYWdlR2VuZXJpY0V4
dGVuc2lvbnMucmVidWlsZF0gaW5zdGVhZC4gJwogICdXaWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpv
ciB2ZXJzaW9uJykKICBTZXRPZlNJbnQ2NFJhbmdlIGNvcHlXaXRoKHZvaWQgRnVuY3Rpb24oU2V0T2ZT
SW50NjRSYW5nZSkgdXBkYXRlcykgPT4gc3VwZXIuY29weVdpdGgoKG1lc3NhZ2UpID0+IHVwZGF0ZXMo
bWVzc2FnZSBhcyBTZXRPZlNJbnQ2NFJhbmdlKSkgYXMgU2V0T2ZTSW50NjRSYW5nZTsKCiAgJHBiLkJ1
aWxkZXJJbmZvIGdldCBpbmZvXyA9PiBfaTsKCiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIFNldE9mU0ludDY0UmFuZ2UgY3JlYXRlKCkgPT4gU2V0T2ZTSW50NjRSYW5nZS5f
KCk7CiAgU2V0T2ZTSW50NjRSYW5nZSBjcmVhdGVFbXB0eUluc3RhbmNlKCkgPT4gY3JlYXRlKCk7CiAg
c3RhdGljICRwYi5QYkxpc3Q8U2V0T2ZTSW50NjRSYW5nZT4gY3JlYXRlUmVwZWF0ZWQoKSA9PiAkcGIu
UGJMaXN0PFNldE9mU0ludDY0UmFuZ2U+KCk7CiAgQCRjb3JlLnByYWdtYSgnZGFydDJqczpub0lubGlu
ZScpCiAgc3RhdGljIFNldE9mU0ludDY0UmFuZ2UgZ2V0RGVmYXVsdCgpID0+IF9kZWZhdWx0SW5zdGFu
Y2UgPz89ICRwYi5HZW5lcmF0ZWRNZXNzYWdlLiRfZGVmYXVsdEZvcjxTZXRPZlNJbnQ2NFJhbmdlPihj
cmVhdGUpOwogIHN0YXRpYyBTZXRPZlNJbnQ2NFJhbmdlPyBfZGVmYXVsdEluc3RhbmNlOwoKICBAJHBi
LlRhZ051bWJlcigxKQogICRjb3JlLkxpc3Q8U0ludDY0UmFuZ2U+IGdldCBkYXRhID0+ICRfZ2V0TGlz
dCgwKTsKfQoKCmNvbnN0IF9vbWl0RmllbGROYW1lcyA9ICRjb3JlLmJvb2wuZnJvbUVudmlyb25tZW50
KCdwcm90b2J1Zi5vbWl0X2ZpZWxkX25hbWVzJyk7CmNvbnN0IF9vbWl0TWVzc2FnZU5hbWVzID0gJGNv
cmUuYm9vbC5mcm9tRW52aXJvbm1lbnQoJ3Byb3RvYnVmLm9taXRfbWVzc2FnZV9uYW1lcycpOwo=
  ''';
}
